(()=>{var e,t,r,i,s={9662:(e,t,r)=>{var i=r(614),s=r(6330),n=TypeError;e.exports=function(e){if(i(e))return e;throw n(s(e)+" is not a function")}},6077:(e,t,r)=>{var i=r(614),s=String,n=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw n("Can't set "+s(e)+" as a prototype")}},9670:(e,t,r)=>{var i=r(111),s=String,n=TypeError;e.exports=function(e){if(i(e))return e;throw n(s(e)+" is not an object")}},3013:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(e,t,r)=>{"use strict";var i,s,n,o=r(3013),a=r(9781),d=r(7854),c=r(614),u=r(111),l=r(2597),h=r(648),p=r(6330),g=r(8880),f=r(8052),m=r(3070).f,b=r(7976),v=r(9518),y=r(7674),w=r(5112),A=r(9711),S=r(9909),B=S.enforce,P=S.get,k=d.Int8Array,I=k&&k.prototype,T=d.Uint8ClampedArray,x=T&&T.prototype,U=k&&v(k),_=I&&v(I),j=Object.prototype,C=d.TypeError,R=w("toStringTag"),z=A("TYPED_ARRAY_TAG"),q="TypedArrayConstructor",O=o&&!!y&&"Opera"!==h(d.opera),F=!1,E={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},L=function(e){var t=v(e);if(u(t)){var r=P(t);return r&&l(r,q)?r.TypedArrayConstructor:L(t)}},N=function(e){if(!u(e))return!1;var t=h(e);return l(E,t)||l(D,t)};for(i in E)(n=(s=d[i])&&s.prototype)?B(n).TypedArrayConstructor=s:O=!1;for(i in D)(n=(s=d[i])&&s.prototype)&&(B(n).TypedArrayConstructor=s);if((!O||!c(U)||U===Function.prototype)&&(U=function(){throw C("Incorrect invocation")},O))for(i in E)d[i]&&y(d[i],U);if((!O||!_||_===j)&&(_=U.prototype,O))for(i in E)d[i]&&y(d[i].prototype,_);if(O&&v(x)!==_&&y(x,_),a&&!l(_,R))for(i in F=!0,m(_,R,{get:function(){return u(this)?this[z]:void 0}}),E)d[i]&&g(d[i],z,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:F&&z,aTypedArray:function(e){if(N(e))return e;throw C("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!y||b(U,e)))return e;throw C(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,i){if(a){if(r)for(var s in E){var n=d[s];if(n&&l(n.prototype,e))try{delete n.prototype[e]}catch(r){try{n.prototype[e]=t}catch(e){}}}_[e]&&!r||f(_,e,r?t:O&&I[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,r){var i,s;if(a){if(y){if(r)for(i in E)if((s=d[i])&&l(s,e))try{delete s[e]}catch(e){}if(U[e]&&!r)return;try{return f(U,e,r?t:O&&U[e]||t)}catch(e){}}for(i in E)!(s=d[i])||s[e]&&!r||f(s,e,t)}},getTypedArrayConstructor:L,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||l(E,t)||l(D,t)},isTypedArray:N,TypedArray:U,TypedArrayPrototype:_}},1285:(e,t,r)=>{"use strict";var i=r(7908),s=r(1400),n=r(6244);e.exports=function(e){for(var t=i(this),r=n(t),o=arguments.length,a=s(o>1?arguments[1]:void 0,r),d=o>2?arguments[2]:void 0,c=void 0===d?r:s(d,r);c>a;)t[a++]=e;return t}},1318:(e,t,r)=>{var i=r(5656),s=r(1400),n=r(6244),o=function(e){return function(t,r,o){var a,d=i(t),c=n(d),u=s(o,c);if(e&&r!=r){for(;c>u;)if((a=d[u++])!=a)return!0}else for(;c>u;u++)if((e||u in d)&&d[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},1589:(e,t,r)=>{var i=r(1400),s=r(6244),n=r(6135),o=Array,a=Math.max;e.exports=function(e,t,r){for(var d=s(e),c=i(t,d),u=i(void 0===r?d:r,d),l=o(a(u-c,0)),h=0;c<u;c++,h++)n(l,h,e[c]);return l.length=h,l}},206:(e,t,r)=>{var i=r(1702);e.exports=i([].slice)},4362:(e,t,r)=>{var i=r(1589),s=Math.floor,n=function(e,t){var r=e.length,d=s(r/2);return r<8?o(e,t):a(e,n(i(e,0,d),t),n(i(e,d),t),t)},o=function(e,t){for(var r,i,s=e.length,n=1;n<s;){for(i=n,r=e[n];i&&t(e[i-1],r)>0;)e[i]=e[--i];i!==n++&&(e[i]=r)}return e},a=function(e,t,r,i){for(var s=t.length,n=r.length,o=0,a=0;o<s||a<n;)e[o+a]=o<s&&a<n?i(t[o],r[a])<=0?t[o++]:r[a++]:o<s?t[o++]:r[a++];return e};e.exports=n},4326:(e,t,r)=>{var i=r(1702),s=i({}.toString),n=i("".slice);e.exports=function(e){return n(s(e),8,-1)}},648:(e,t,r)=>{var i=r(1694),s=r(614),n=r(4326),o=r(5112)("toStringTag"),a=Object,d="Arguments"==n(function(){return arguments}());e.exports=i?n:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=a(e),o))?r:d?n(t):"Object"==(i=n(t))&&s(t.callee)?"Arguments":i}},2128:(e,t,r)=>{var i=r(2597),s=r(3887),n=r(1236),o=r(3070);e.exports=function(e,t,r){for(var a=s(t),d=o.f,c=n.f,u=0;u<a.length;u++){var l=a[u];i(e,l)||r&&i(r,l)||d(e,l,c(t,l))}}},9920:(e,t,r)=>{var i=r(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:(e,t,r)=>{var i=r(9781),s=r(3070),n=r(9114);e.exports=i?function(e,t,r){return s.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,r)=>{"use strict";var i=r(4948),s=r(3070),n=r(9114);e.exports=function(e,t,r){var o=i(t);o in e?s.f(e,o,n(0,r)):e[o]=r}},7045:(e,t,r)=>{var i=r(6339),s=r(3070);e.exports=function(e,t,r){return r.get&&i(r.get,t,{getter:!0}),r.set&&i(r.set,t,{setter:!0}),s.f(e,t,r)}},8052:(e,t,r)=>{var i=r(614),s=r(3070),n=r(6339),o=r(3072);e.exports=function(e,t,r,a){a||(a={});var d=a.enumerable,c=void 0!==a.name?a.name:t;if(i(r)&&n(r,c,a),a.global)d?e[t]=r:o(t,r);else{try{a.unsafe?e[t]&&(d=!0):delete e[t]}catch(e){}d?e[t]=r:s.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},3072:(e,t,r)=>{var i=r(7854),s=Object.defineProperty;e.exports=function(e,t){try{s(i,e,{value:t,configurable:!0,writable:!0})}catch(r){i[e]=t}return t}},9781:(e,t,r)=>{var i=r(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},317:(e,t,r)=>{var i=r(7854),s=r(111),n=i.document,o=s(n)&&s(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},8886:(e,t,r)=>{var i=r(8113).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},256:(e,t,r)=>{var i=r(8113);e.exports=/MSIE|Trident/.test(i)},6833:(e,t,r)=>{var i=r(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:(e,t,r)=>{var i=r(4326),s=r(7854);e.exports="process"==i(s.process)},8113:(e,t,r)=>{var i=r(5005);e.exports=i("navigator","userAgent")||""},7392:(e,t,r)=>{var i,s,n=r(7854),o=r(8113),a=n.process,d=n.Deno,c=a&&a.versions||d&&d.version,u=c&&c.v8;u&&(s=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!s&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(s=+i[1]),e.exports=s},8008:(e,t,r)=>{var i=r(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,r)=>{var i=r(7854),s=r(1236).f,n=r(8880),o=r(8052),a=r(3072),d=r(2128),c=r(4705);e.exports=function(e,t){var r,u,l,h,p,g=e.target,f=e.global,m=e.stat;if(r=f?i:m?i[g]||a(g,{}):(i[g]||{}).prototype)for(u in t){if(h=t[u],l=e.dontCallGetSet?(p=s(r,u))&&p.value:r[u],!c(f?u:g+(m?".":"#")+u,e.forced)&&void 0!==l){if(typeof h==typeof l)continue;d(h,l)}(e.sham||l&&l.sham)&&n(h,"sham",!0),o(r,u,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,r)=>{var i=r(4374),s=Function.prototype,n=s.apply,o=s.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(n):function(){return o.apply(n,arguments)})},9974:(e,t,r)=>{var i=r(1702),s=r(9662),n=r(4374),o=i(i.bind);e.exports=function(e,t){return s(e),void 0===t?e:n?o(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,r)=>{var i=r(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,r)=>{var i=r(4374),s=Function.prototype.call;e.exports=i?s.bind(s):function(){return s.apply(s,arguments)}},6530:(e,t,r)=>{var i=r(9781),s=r(2597),n=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=s(n,"name"),d=a&&"something"===function(){}.name,c=a&&(!i||i&&o(n,"name").configurable);e.exports={EXISTS:a,PROPER:d,CONFIGURABLE:c}},1702:(e,t,r)=>{var i=r(4374),s=Function.prototype,n=s.bind,o=s.call,a=i&&n.bind(o,o);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:(e,t,r)=>{var i=r(7854),s=r(614),n=function(e){return s(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?n(i[e]):i[e]&&i[e][t]}},8173:(e,t,r)=>{var i=r(9662),s=r(8554);e.exports=function(e,t){var r=e[t];return s(r)?void 0:i(r)}},7854:(e,t,r)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(e,t,r)=>{var i=r(1702),s=r(7908),n=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return n(s(e),t)}},3501:e=>{e.exports={}},490:(e,t,r)=>{var i=r(5005);e.exports=i("document","documentElement")},4664:(e,t,r)=>{var i=r(9781),s=r(7293),n=r(317);e.exports=!i&&!s((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,r)=>{var i=r(1702),s=r(7293),n=r(4326),o=Object,a=i("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?a(e,""):o(e)}:o},2788:(e,t,r)=>{var i=r(1702),s=r(614),n=r(5465),o=i(Function.toString);s(n.inspectSource)||(n.inspectSource=function(e){return o(e)}),e.exports=n.inspectSource},9909:(e,t,r)=>{var i,s,n,o=r(4811),a=r(7854),d=r(1702),c=r(111),u=r(8880),l=r(2597),h=r(5465),p=r(6200),g=r(3501),f="Object already initialized",m=a.TypeError,b=a.WeakMap;if(o||h.state){var v=h.state||(h.state=new b),y=d(v.get),w=d(v.has),A=d(v.set);i=function(e,t){if(w(v,e))throw m(f);return t.facade=e,A(v,e,t),t},s=function(e){return y(v,e)||{}},n=function(e){return w(v,e)}}else{var S=p("state");g[S]=!0,i=function(e,t){if(l(e,S))throw m(f);return t.facade=e,u(e,S,t),t},s=function(e){return l(e,S)?e[S]:{}},n=function(e){return l(e,S)}}e.exports={set:i,get:s,has:n,enforce:function(e){return n(e)?s(e):i(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=s(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},614:(e,t,r)=>{var i=r(4154),s=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===s}:function(e){return"function"==typeof e}},4705:(e,t,r)=>{var i=r(7293),s=r(614),n=/#|\.prototype\./,o=function(e,t){var r=d[a(e)];return r==u||r!=c&&(s(t)?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(n,".").toLowerCase()},d=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,r)=>{var i=r(614),s=r(4154),n=s.all;e.exports=s.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===n}:function(e){return"object"==typeof e?null!==e:i(e)}},1913:e=>{e.exports=!1},2190:(e,t,r)=>{var i=r(5005),s=r(614),n=r(7976),o=r(3307),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return s(t)&&n(t.prototype,a(e))}},6244:(e,t,r)=>{var i=r(7466);e.exports=function(e){return i(e.length)}},6339:(e,t,r)=>{var i=r(7293),s=r(614),n=r(2597),o=r(9781),a=r(6530).CONFIGURABLE,d=r(2788),c=r(9909),u=c.enforce,l=c.get,h=Object.defineProperty,p=o&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),g=String(String).split("String"),f=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!n(e,"name")||a&&e.name!==t)&&(o?h(e,"name",{value:t,configurable:!0}):e.name=t),p&&r&&n(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&n(r,"constructor")&&r.constructor?o&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return n(i,"source")||(i.source=g.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return s(this)&&l(this).source||d(this)}),"toString")},4758:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?r:t)(i)}},3070:(e,t,r)=>{var i=r(9781),s=r(4664),n=r(3353),o=r(9670),a=r(4948),d=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l="enumerable",h="configurable",p="writable";t.f=i?n?function(e,t,r){if(o(e),t=a(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r.writable){var i=u(e,t);i&&i.writable&&(e[t]=r.value,r={configurable:h in r?r.configurable:i.configurable,enumerable:l in r?r.enumerable:i.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=a(t),o(r),s)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw d("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:(e,t,r)=>{var i=r(9781),s=r(6916),n=r(5296),o=r(9114),a=r(5656),d=r(4948),c=r(2597),u=r(4664),l=Object.getOwnPropertyDescriptor;t.f=i?l:function(e,t){if(e=a(e),t=d(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return o(!s(n.f,e,t),e[t])}},8006:(e,t,r)=>{var i=r(6324),s=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,s)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,r)=>{var i=r(2597),s=r(614),n=r(7908),o=r(6200),a=r(9920),d=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=n(e);if(i(t,d))return t[d];var r=t.constructor;return s(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},7976:(e,t,r)=>{var i=r(1702);e.exports=i({}.isPrototypeOf)},6324:(e,t,r)=>{var i=r(1702),s=r(2597),n=r(5656),o=r(1318).indexOf,a=r(3501),d=i([].push);e.exports=function(e,t){var r,i=n(e),c=0,u=[];for(r in i)!s(a,r)&&s(i,r)&&d(u,r);for(;t.length>c;)s(i,r=t[c++])&&(~o(u,r)||d(u,r));return u}},5296:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);t.f=s?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},7674:(e,t,r)=>{var i=r(1702),s=r(9670),n=r(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return s(r),n(i),t?e(r,i):r.__proto__=i,r}}():void 0)},2140:(e,t,r)=>{var i=r(6916),s=r(614),n=r(111),o=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&s(r=e.toString)&&!n(a=i(r,e)))return a;if(s(r=e.valueOf)&&!n(a=i(r,e)))return a;if("string"!==t&&s(r=e.toString)&&!n(a=i(r,e)))return a;throw o("Can't convert object to primitive value")}},3887:(e,t,r)=>{var i=r(5005),s=r(1702),n=r(8006),o=r(5181),a=r(9670),d=s([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=n.f(a(e)),r=o.f;return r?d(t,r(e)):t}},7066:(e,t,r)=>{"use strict";var i=r(9670);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:(e,t,r)=>{var i=r(8554),s=TypeError;e.exports=function(e){if(i(e))throw s("Can't call method on "+e);return e}},6200:(e,t,r)=>{var i=r(2309),s=r(9711),n=i("keys");e.exports=function(e){return n[e]||(n[e]=s(e))}},5465:(e,t,r)=>{var i=r(7854),s=r(3072),n="__core-js_shared__",o=i[n]||s(n,{});e.exports=o},2309:(e,t,r)=>{var i=r(1913),s=r(5465);(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.3",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(e,t,r)=>{var i=r(7392),s=r(7293);e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},261:(e,t,r)=>{var i,s,n,o,a=r(7854),d=r(2104),c=r(9974),u=r(614),l=r(2597),h=r(7293),p=r(490),g=r(206),f=r(317),m=r(8053),b=r(6833),v=r(5268),y=a.setImmediate,w=a.clearImmediate,A=a.process,S=a.Dispatch,B=a.Function,P=a.MessageChannel,k=a.String,I=0,T={},x="onreadystatechange";try{i=a.location}catch(e){}var U=function(e){if(l(T,e)){var t=T[e];delete T[e],t()}},_=function(e){return function(){U(e)}},j=function(e){U(e.data)},C=function(e){a.postMessage(k(e),i.protocol+"//"+i.host)};y&&w||(y=function(e){m(arguments.length,1);var t=u(e)?e:B(e),r=g(arguments,1);return T[++I]=function(){d(t,void 0,r)},s(I),I},w=function(e){delete T[e]},v?s=function(e){A.nextTick(_(e))}:S&&S.now?s=function(e){S.now(_(e))}:P&&!b?(o=(n=new P).port2,n.port1.onmessage=j,s=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!h(C)?(s=C,a.addEventListener("message",j,!1)):s=x in f("script")?function(e){p.appendChild(f("script")).onreadystatechange=function(){p.removeChild(this),U(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:y,clear:w}},1400:(e,t,r)=>{var i=r(9303),s=Math.max,n=Math.min;e.exports=function(e,t){var r=i(e);return r<0?s(r+t,0):n(r,t)}},4599:(e,t,r)=>{var i=r(7593),s=TypeError;e.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw s("Can't convert number to bigint");return BigInt(t)}},5656:(e,t,r)=>{var i=r(8361),s=r(4488);e.exports=function(e){return i(s(e))}},9303:(e,t,r)=>{var i=r(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},7466:(e,t,r)=>{var i=r(9303),s=Math.min;e.exports=function(e){return e>0?s(i(e),9007199254740991):0}},7908:(e,t,r)=>{var i=r(4488),s=Object;e.exports=function(e){return s(i(e))}},4590:(e,t,r)=>{var i=r(3002),s=RangeError;e.exports=function(e,t){var r=i(e);if(r%t)throw s("Wrong offset");return r}},3002:(e,t,r)=>{var i=r(9303),s=RangeError;e.exports=function(e){var t=i(e);if(t<0)throw s("The argument can't be less than 0");return t}},7593:(e,t,r)=>{var i=r(6916),s=r(111),n=r(2190),o=r(8173),a=r(2140),d=r(5112),c=TypeError,u=d("toPrimitive");e.exports=function(e,t){if(!s(e)||n(e))return e;var r,d=o(e,u);if(d){if(void 0===t&&(t="default"),r=i(d,e,t),!s(r)||n(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:(e,t,r)=>{var i=r(7593),s=r(2190);e.exports=function(e){var t=i(e,"string");return s(t)?t:t+""}},1694:(e,t,r)=>{var i={};i[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,r)=>{var i=r(1702),s=0,n=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++s+n,36)}},3307:(e,t,r)=>{var i=r(6293);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,r)=>{var i=r(9781),s=r(7293);e.exports=i&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},4811:(e,t,r)=>{var i=r(7854),s=r(614),n=i.WeakMap;e.exports=s(n)&&/native code/.test(String(n))},5112:(e,t,r)=>{var i=r(7854),s=r(2309),n=r(2597),o=r(9711),a=r(6293),d=r(3307),c=s("wks"),u=i.Symbol,l=u&&u.for,h=d?u:u&&u.withoutSetter||o;e.exports=function(e){if(!n(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&n(u,e)?c[e]=u[e]:c[e]=d&&l?l(t):h(t)}return c[e]}},2087:(e,t,r)=>{var i=r(7854),s=r(9781),n=r(7045),o=r(7066),a=r(7293),d=i.RegExp,c=d.prototype;s&&a((function(){var e=!0;try{d(".","d")}catch(t){e=!1}var t={},r="",i=e?"dgimsy":"gimsy",s=function(e,i){Object.defineProperty(t,e,{get:function(){return r+=i,!0}})},n={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(n.hasIndices="d"),n)s(o,n[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==i||r!==i}))&&n(c,"flags",{configurable:!0,get:o})},3105:(e,t,r)=>{"use strict";var i=r(260),s=r(1285),n=r(4599),o=r(648),a=r(6916),d=r(1702),c=r(7293),u=i.aTypedArray,l=i.exportTypedArrayMethod,h=d("".slice);l("fill",(function(e){var t=arguments.length;u(this);var r="Big"===h(o(this),0,3)?n(e):+e;return a(s,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},3462:(e,t,r)=>{"use strict";var i=r(7854),s=r(6916),n=r(260),o=r(6244),a=r(4590),d=r(7908),c=r(7293),u=i.RangeError,l=i.Int8Array,h=l&&l.prototype,p=h&&h.set,g=n.aTypedArray,f=n.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return s(p,e,{length:1,0:3},1),3!==e[1]})),b=m&&n.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));f("set",(function(e){g(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=d(e);if(m)return s(p,this,r,t);var i=this.length,n=o(r),c=0;if(n+t>i)throw u("Wrong length");for(;c<n;)this[t+c]=r[c++]}),!m||b)},3824:(e,t,r)=>{"use strict";var i=r(7854),s=r(1702),n=r(7293),o=r(9662),a=r(4362),d=r(260),c=r(8886),u=r(256),l=r(7392),h=r(8008),p=d.aTypedArray,g=d.exportTypedArrayMethod,f=i.Uint16Array,m=f&&s(f.prototype.sort),b=!(!m||n((function(){m(new f(2),null)}))&&n((function(){m(new f(2),{})}))),v=!!m&&!n((function(){if(l)return l<74;if(c)return c<67;if(u)return!0;if(h)return h<602;var e,t,r=new f(516),i=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,i[e]=e-2*t+3;for(m(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==i[e])return!0}));g("sort",(function(e){return void 0!==e&&o(e),v?m(this,e):a(p(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!v||b)},1091:(e,t,r)=>{var i=r(2109),s=r(7854),n=r(261).clear;i({global:!0,bind:!0,enumerable:!0,forced:s.clearImmediate!==n},{clearImmediate:n})},4633:(e,t,r)=>{r(1091),r(2986)},2986:(e,t,r)=>{var i=r(2109),s=r(7854),n=r(261).set;i({global:!0,bind:!0,enumerable:!0,forced:s.setImmediate!==n},{setImmediate:n})},4155:e=>{var t,r,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:n}catch(e){r=n}}();var a,d=[],c=!1,u=-1;function l(){c&&a&&(c=!1,a.length?d=a.concat(d):u=-1,d.length&&h())}function h(){if(!c){var e=o(l);c=!0;for(var t=d.length;t;){for(a=d,d=[];++u<t;)a&&a[u].run();u=-1,t=d.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new p(e,t)),1!==d.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return s[e](r,r.exports,o),r.exports}o.m=s,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"==typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"==typeof r.then)return r}var s=Object.create(null);o.r(s);var n={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>n[e]=()=>r[e]));return n.default=()=>r,o.d(s,n),s},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i="crazygames-ads:",o.l=(e,t,s,n)=>{if(r[e])r[e].push(t);else{var a,d;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==i+s){a=l;break}}a||(d=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",i+s),a.src=e),r[e]=[t];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var s=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),d&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={179:0};o.f.j=(t,r)=>{var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((r,s)=>i=e[t]=[r,s]));r.push(i[2]=s);var n=o.p+o.u(t),a=new Error;o.l(n,(r=>{if(o.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",a.name="ChunkLoadError",a.type=s,a.request=n,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[n,a,d]=r,c=0;if(n.some((t=>0!==e[t]))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(d)d(o)}for(t&&t(r);c<n.length;c++)s=n[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=globalThis.webpackChunkcrazygames_ads=globalThis.webpackChunkcrazygames_ads||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";o(2087),o(3105),o(3462),o(3824),o(4633);const e="8.16.0";async function t(e){return new Promise(((t,r)=>{const i=document.createElement("script");i.src=e,i.async=!0,i.onerror=()=>r(new Error(`Failed to load ${e}`)),i.onload=()=>t(),document.head.appendChild(i)}))}function r(){return window.adsbygoogle?Promise.resolve():t("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")}const i=new class{constructor(){var e,t,r;r=void 0,(t="debugEnabled")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.debugEnabled=this.isDebugEnabled()}debug(e){if(this.debugEnabled){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];console.log(e,...r)}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];console.log(e,...r)}warn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];console.warn(e,...r)}error(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];console.error(e,...r)}isDebugEnabled(){return!(window.location.search.indexOf("raf_debug=true")<0)}},s=i;const n=function(e,t){return new Promise(((r,i)=>{window.setTimeout((()=>{r(t)}),e)}))};o(4155);async function a(){try{await t("https://pafvertizing.crazygames.com/prebid.js")}catch(e){return s.debug('[Adblock] Adblock detected (our "prebid" failed to load)',e),!0}try{const e=!document.getElementById("AZJUSpftxLwH");return e&&s.debug("[Adblock] Adblock detected (no div)"),e}catch(e){return s.debug("[Adblock] Adblock detected"),!0}}let d;const c=async function(){return d||(d=Promise.race([a(),n(250,!1)])),await d};function u(e,t){for(const r of t)if(r.bidder===e)return r;return null}let l;class h{constructor(){var e,t,r;r="not-initialized",(t="loadState")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}getLoadState(){return this.loadState}}const p=new class extends h{constructor(){var e,t,r;super(...arguments),r=null,(t="apstagPromise")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}loadIfNeeded(){return this.apstagPromise||(this.apstagPromise=l||(l=new Promise(((e,t)=>{((r,i,s,n,o,a,d)=>{function c(e,t){i[r]._Q.push([e,t])}i[r]||(i[r]={init:function(){c("i",arguments)},fetchBids:function(){c("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){c("di",arguments)},rpa:function(){c("ri",arguments)},upa:function(){c("ui",arguments)},_Q:[]},(a=s.createElement(n)).async=!0,a.src=o,a.onerror=()=>t(new Error("Failed to load apstag")),a.onload=()=>e(),(d=s.getElementsByTagName(n)[0]).parentNode.insertBefore(a,d))})("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js")})),l),this.loadState="loading",this.apstagPromise.then((()=>{this.loadState="success"})).catch((e=>{s.error("[LoadScript] failed to load apstag",e),this.loadState="fail"}))),this.apstagPromise}};let g=null;function f(){return g||(g=t("https://btloader.com/tag?o=5635927334453248&upapi=true"),g)}async function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g)return g;if(e)return f();const t=await c();return t?f():Promise.resolve()}const b=function(e){return e instanceof Function};const v=new class extends h{constructor(){var e,t,r;super(...arguments),r=null,(t="googletagPromise")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}loadGoogleTag(){if(this.googletagPromise)return this.googletagPromise;return this.googletagPromise=t("https://securepubads.g.doubleclick.net/tag/js/gpt.js"),this.loadState="loading",this.googletagPromise.then((()=>{this.loadState="success"})).catch((e=>{s.error("[LoadScript] GoogleTag Failed to load",e),this.loadState="fail"})),this.googletagPromise}isGoogleTagDefined(){const e=window;return e.googletag&&b(e.googletag.pubads)&&b(e.googletag.pubads().getSlots)}loadIfNeeded(){return this.isGoogleTagDefined()?Promise.resolve():this.loadGoogleTag()}};o(4155);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const w=new class extends h{constructor(){super(...arguments),y(this,"prebidPromise",null),y(this,"version","v8")}isPrebidLoaded(){const e=window;return e.pbjs&&e.pbjs.libLoaded}baseDomain(){return"https://pafvertizing.crazygames.com"}getPrebidLocation(){const e=this.version;return`${this.baseDomain()}/prebid-${e}.js`}loadPrebid(){if(this.prebidPromise)return this.prebidPromise;const e=this.getPrebidLocation();return this.prebidPromise=t(e),this.loadState="loading",this.prebidPromise.then((()=>{this.loadState="success"})).catch((e=>{s.error("[LoadScript] failed to load prebid",e),this.loadState="fail",m()})),this.prebidPromise}loadIfNeeded(){return this.isPrebidLoaded()?Promise.resolve():this.loadPrebid()}},A=JSON.parse('{"K":["1a5ue4g","sekdmo","1rx4em8","1rncw0","11a7dvk","jixdds","1j1hedc","f33v9c","1elnw8w","wudvr4","1wcxwqo","67gv0g","15q0w00","nyqvi8","1nhawhs","cv7474","1cdr56o","umh4ow","1u515og","3zk3y8","13i44xs","lqu4g0","1l9e5fk","hb0mbk","1gtknb4","z2amtc","1ykunsw","8fdm2o","17xxn28","q6nmkg","1pp7nk0","9jbzls","191w0lc","ram03k","1qt6134","nozcw","10690cg","ieyzuo","1hxj0u8","dz5hq8","1dhpips","vqfi80","1v8zj7k","53ihhc","14m2igw","mushz4","1mdciyo","br8qo0","1b9srnk","tiir5s","1t12s5c","2vlqf4","12e5reo","kmvqww","1k5frwg","g728sg","1fpm9s0","xyc9a8","1xgwa9s","7bf8jk","16tz9j4","p2p91c","1ol9a0w","a3b6dc","19lv7cw","rul6v4","1rd57uo","17o64g","10q8740","iyy6m8","1ihi7ls","ej4ohs","1e1ophc","waeozk","1vsypz4","5nho8w","1561p8g","neroqo","1mxbpq8","cb7xfk","1btryf4","u2hxxc","1tl1yww","3fkx6o","12y4y68","l6uxog","1kpeyo0","gr1fk0","1g9lgjk","yibg1s","1y0vh1c","7vefb4","17dygao","pmofsw","1p58gsg","8zcsu8","18hwtts","qqmtc0","1q96ubk","3pslc","zm9tkw","huzt34","1hdju2o","df6ayo","1cxqby8","v6gbgg","1up0cg0","4jjaps","1423bpc","matb7k","1ltdc74","b79jwg","1aptkw0","syjke8","1sh3lds","2bmjnk","11u6kn4","k2wk5c","1jlgl4w","fn320w","1f5n30g","xed2io","1wwx3i8","6rg1s0","16a02rk","oiq29s","1o1a39c","ax9yio","1aftzi8","sojz0g","1s74000","21my9s","11k6z9c","jswyrk","1jbgzr4","fd3gn4","1evnhmo","x4dh4w","1wmxi4g","6hgge8","1600hds","o8qgw0","1nrahvk","d56pkw","1cnqqkg","uwgq2o","1uf0r28","49jpc0","13s3qbk","m0tpts","1ljdqtc","hl07pc","1h3k8ow","zca874","1yuu96o","8pd7gg","187x8g0","qgn7y8","1pz78xs","9tbkzk","19bvlz4","rkllhc","1r35mgw","xokqo","10g8lq8","ioyl8g","1i7im80","e95340","1drp43k","w0f3ls","1viz4lc","5di2v4","14w23uo","n4s3cw","1mnc4cg","c18c1s","1bjsd1c","tsicjk","1tb2dj4","35lbsw","12o5csg","kwvcao","1kffda8","gh1u68","1fzlv5s","y8buo0","1xqvvnk","7letxc","173yuww","pcouf4","1ov8veo","adarr4","19vusqo","s4ks8w","1rn4t8g","1hnri8","1107shs","j8xs00","1irhszk","et49vk","1eboav4","wkeadc","1w2ybcw","5xh9mo","15g1am8","nora4g","1n7bb40","cl7itc","1c3rjsw","uchjb4","1tv1kao","3pkikg","1384jk0","lguj28","1kzek1s","h110xs","1gjl1xc","ysb1fk","1yav2f4","85e0ow","17ny1og","pwo16o","1pf8268","99ce80","18rwf7k","r0meps","1qj6fpc","dpdz4","zw9eyo","i4zegw","1hnjfgg","dp5wcg","1d7pxc0","vgfwu8","1uyzxts","4tiw3k","14c2x34","mkswlc","1m3cxkw","bh95a8","1azt69s","t8j5s0","1sr36rk","2lm51c","124660w","kcw5j4","1jvg6io","fx2neo","1ffmoe8","xocnwg","1x6wow0","71fn5s","16jzo5c","ospnnk","1ob9on4","asa5ts","1aau6tc","sjk6bk","1s247b4","1wn5kw","11f76kg","jnx62o","1j6h728","f83ny8","1eqnoxs","wzdog0","1whxpfk","6cgnpc","15v0oow","o3qo74","1nmap6o","d06ww0","1ciqxvk","urgxds","1ua0ydc","44jwn4","13n3xmo","lvtx4w","1ledy4g","hg0f0g","1gykg00","z7afi8","1ypughs","8kderk","182xfr4","qbnf9c","1pu7g8w","9obsao","196vta8","rflssg","1qy5ts0","sos1s","10b8t1c","ijysjk","1i2itj4","e45af4","1dmpbeo","vvfaww","1vdzbwg","58ia68","1beskcg","krvjls","1xlw2yo","a8az28","10v7zsw","wfehog","1n2bif4","3kkpvk","1gel98g","pro8hs","1qe6n0g","dk63nk","14734e8","t3jd34","1jqgdts","6wfugw","1akts74","jxwrgg","1wrxatc","da6i9s","13x3j0g","zha0w0","1q471mo","12odfk","1dwowsg","n9rw1s","1tg2680","gm1mv4","178ynls","s9kkxs","1iwhlog","62h2bk","1c8rchs","llubr4","1yfuv40","9ec6ww","10197nk","vlfpj4","1m8cq9s","2qlxq8","1fkmh34","oxpgcg","1rumi9s","f0lyww","15niznk","ujz8cg","1l6w934","8cvpq8","18ze48w","ich3i8","1v6hmv4","boqubk","12bnv28","xvucxs","1oirdog","1569s0","1dz6t4w","nc9se8","1tik2kg","gojj7k","17bgjy8","qo4wzk","1hb1xq8","4h1edc","1anbojk","k0ensw","1wuf75s","aus268","11hp2ww","x1vksg","1noslj4","471szk","1h12ccg","qe5bls","1r0nq4g","e6n6rk","14tk7i8","tq0g74","1kcxgxs","7iwxkw","19tcwe8","j6fvnk","1w0gf0g","cipmgw","135mn7k","ypt534","1pcq5ts","b7hmo","1d580zk","mib08w","1solaf4","fukr28","16hhrsw","sh29z4","1j3zaps","69yrcw","1cg91j4","ltc0sg","1ynck5c","9ltvy8","u4zu9s","244um8","kzd8n4","drnsow","z3jkzk","5oqmf4","ojz0g0","c2ha80","r1vcw0","45sutc","j56xhc","ftbsw0","w6nugw","8bmrk0","nxhxc0","a22874","sxam80","wfmkg","lflkw0","f6ups0","y233sw","4na58g","qke2gw","coydc0","2uz9c0","hkdqm8","70t62o","93q4g0","1m1340","dw14ao","6ec2yo","be4ruo","3hgcg0","gix9fk","8g035s","axwfls","ebv28","eoqy9s","5j4cn4"],"R":["v_1gtknb4","v_tiir5s","v_1vsypz4","v_3pslc","v_16a02rk","v_m0tpts","v_1mnc4cg","v_et49vk","v_18rwf7k","v_xocnwg","v_1ua0ydc","v_58ia68","v_10v7zsw","v_pro8hs","v_1jqgdts","v_da6i9s","v_1dwowsg","v_s9kkxs","v_1yfuv40","v_2qlxq8","v_15niznk","v_ich3i8","v_1oirdog","v_gojj7k","v_1anbojk","v_x1vksg","v_1r0nq4g","v_7iwxkw","v_135mn7k","v_mib08w","v_1j3zaps","v_9ltvy8","v_1fs464g","v_u4zu9s","v_1uri8sg","v_244um8","v_18af4sg","v_kzd8n4","v_1n9t7gg","v_drnsow","v_1a73cao","v_z3jkzk","v_1t2bqbk","v_5oqmf4","v_znirr4","v_ojz0g0","v_1lkmozk","v_c2ha80","v_1ecx91c","v_r1vcw0","v_1x85n28","v_45sutc","v_14sb9c0","v_j56xhc","v_1pbh7nk","v_ftbsw0","v_1ctzhfk","v_w6nugw","v_1rtdk3k","v_8bmrk0","v_12aeww0","v_nxhxc0","v_1hwa2o0","v_a22874","v_1g8cidc","v_sxam80","v_1wlojy8","v_wfmkg","v_172pwqo","v_lflkw0","v_1m23zeo","v_f6ups0","v_195mv40","v_y233sw","v_1tostfk","v_4na58g","v_11nxts0","v_qke2gw","v_1kj67sw","v_coydc0","v_sdxwjk","v_2uz9c0","v_hudc00","v_hkdqm8","v_wjrta8","v_70t62o","v_mz5tkw","v_93q4g0","v_v0u1og","v_1m1340","v_kh9h4w","v_dw14ao","v_yf72m8","v_6ec2yo","v_p9kgzk","v_be4ruo","v_rchfcw","v_3hgcg0","v_juse0w","v_gix9fk","v_8g035s","v_axwfls","v_ebv28","v_eoqy9s","v_5j4cn4","v_ctboxs","v_29r4e8","v_gz5log","v_7ejlz4","v_9wfyf4","v_1rc4cg","v_dev2f4","v_5x6134","v_bvxatc","v_4e89hc","v_g1r7k0","v_7slaf4","v_aahmv4","v_pvn5s","v_ffa4g0"]}');function S(e,t,r){const i={};let s=0;let n=100*r;return t.forEach((t=>{const r=e.find((e=>e.key===t));r&&(n=100*r.inc),s+=n,i[t]=s/100})),i}let B=null;function P(){const e=S([{key:"1beskcg",inc:.05},{key:"u4zu9s",inc:.5},{key:"2uz9c0",inc:1}],A.K,.01),t=S([{key:"v_sdxwjk",inc:.5},{key:"v_8g035s",inc:1}],A.R,.25);return B=Object.assign({},e,t),B}const k=function(e){const{amznbid:t}=e;return function(e){B||P();const t=B[e];return void 0===t?0:t}(t)},I=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","BR","CH","GB","NO"];function T(e){return!e||I.indexOf(e)>=0}function x(e){return!e||"US"===e}const U={};let _=!1;let j=null;function C(){if(!j){const e=window;if(e._iub){if(!e._iub.cs||!e._iub.cs.api)throw new Error("IUB not fully loaded");j=t=>Promise.resolve(e._iub.cs.api[t]())}else _||(_=!0,window.addEventListener("message",(e=>{const t=e.data;if(t&&"string"==typeof t&&t.includes("__iubCsReturn"))try{const e=JSON.parse(t),r=U[e.__iubCsReturn.callId];if(r){const{resolve:t,reject:i}=r;e.__iubCsReturn.success?t(e.__iubCsReturn.returnValue):i(),delete U[e.__iubCsReturn.callId]}}catch(e){}}))),j=e=>new Promise(((t,r)=>{let i=!1;const s=`${Math.random()}`,n={__iubCsCall:{command:e,callId:s}},o=()=>{i||(i=!0,r())},a=window.setTimeout((()=>{o()}),200);U[s]={resolve:e=>{i||(i=!0,window.clearTimeout(a),t(e))},reject:o},window.parent.postMessage(JSON.stringify(n),"*")}))}return j}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class z{static getInstance(){return this.instance||(this.instance=new z),this.instance}constructor(){R(this,"blocklist",null),R(this,"loadingPromise",null)}async filterBids(e,t){await this.loadBlocklist(),this.blocklist&&t&&Object.entries(t).forEach((t=>{let[r,{bids:i}]=t;i.forEach((t=>{this.isBidBlocked(t)&&(s.debug("blocking bid",t),e.markWinningBidAsUsed({adId:t.adId}))}))}))}isDomainBlocked(e){if(!this.blocklist)return!1;const{names:t,domains:r}=this.blocklist,i=e.split(".");if(r.some((e=>{if(i.length<e.length)return!1;const t=i.length-e.length;return e.every(((e,r)=>i[r+t]===e))})))return!0;return t.some((e=>!(i.length<e.length)&&e.every(((e,t)=>i[t]===e))))}loadBlocklist(){return this.blocklist?Promise.resolve():(this.loadingPromise||(this.loadingPromise=new Promise((e=>{o.e(698).then(o.t.bind(o,5698,19)).then((t=>{const{names:r,domains:i}=t;this.blocklist={names:r.map((e=>e.split("."))),domains:i.map((e=>e.split(".")))},this.loadingPromise=null,e()})).catch((e=>{s.error("error loading blocklist",e)}))}))),this.loadingPromise)}isBidBlocked(e){const{advertiserDomains:t}=e.meta||{};return!!t&&t.some((e=>this.isDomainBlocked(e)))}}R(z,"instance",void 0);const q=z;function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class F{constructor(e){O(this,"adserverRequestSent",void 0),O(this,"state",void 0),O(this,"auctioneers",void 0),this.adserverRequestSent=!1,this.auctioneers=e,this.state=e.reduce(((e,t)=>Object.assign({},e,{[t]:null})),{})}setAuctioneerFinished(e){this.auctioneers.indexOf(e)<0&&(i.warn(`[RequestManager] Unexpected auctioneer ${e}`),this.auctioneers.push(e)),this.state[e]=Date.now()}reset(){return this.auctioneers.forEach((e=>{this.state[e]=null})),this.adserverRequestSent=!1,this}haveBiddersFinished(){return this.auctioneers.every((e=>!!this.state[e]))}}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const D=class{constructor(e,t){this.requestUnit=e,this.requestOptions=t,E(this,"numberOfImpressions",void 0),E(this,"impressionKey","impression_number"),E(this,"priceFloorKey","pf"),E(this,"priceFloor",void 0),E(this,"googlePriceFloor",void 0),E(this,"bids",void 0),E(this,"previousWinners",void 0),E(this,"previousBid",void 0),E(this,"isPreviousFinalized",void 0),E(this,"hasAdsense",void 0),E(this,"houseAdWasRenderedInRowCounter",0),E(this,"amazonBid",void 0),this.numberOfImpressions=1,this.previousWinners=[],this.isPreviousFinalized=!0,this.previousBid=null,this.hasAdsense=!1,this.priceFloor=null,this.googlePriceFloor=null,this.amazonBid=null}addBid(e){this.bids.push(e)}setAmazonBid(e){this.amazonBid?this.amazonBid.cpm<e.cpm&&(this.amazonBid=e):this.amazonBid=e}adsenseBid(){this.hasAdsense=!0}hasAdsenseBid(){return this.hasAdsense}canRefresh(){return!this.hasAdsenseBid()}resetForRefresh(e){this.googlePriceFloor=null,this.amazonBid=null}elementId(){return this.code()}code(){return this.requestUnit.adUnit.code}setBids(e,t,r){this.bids=[],this.setBidderBids(e,t,r),this.setPrebidUnits(e),t.some((e=>"amazon"===e.code))&&this.setApstags(e)}getSizes(){const e=[],{video:t,native:r,banner:i}=this.requestUnit.adUnit.mediaTypes;return t&&(t.playerSize&&Array.isArray(t.playerSize[0])?e.push(...t.playerSize.map((e=>e.slice()))):e.push(t.playerSize.slice())),r&&r.image&&e.push(...r.image.sizes.map((e=>e.slice()))),i&&e.push(...i.sizes.map((e=>e.slice()))),e}maxSize(){const e=this.getSizes(),t=e.map((e=>e[0])),r=e.map((e=>e[1]));return[Math.max(...t),Math.max(...r)]}currentWinningBid(e){const t=this.currentWinningPrebidBid(e);return t?this.prebidBidResponseToBidInfo(t):null}previousWinningBids(e){return this.finalizePreviousBid(e),this.previousWinners.slice()}finalizeBid(e){this.finalizePreviousBid(e);const t=this.currentWinningPrebidBid(e),r=this.prebidBidResponseToBidInfo(t);this.previousWinners=[r,...this.previousWinners],this.previousBid=t,this.isPreviousFinalized=!1}isBanner(){return!1}isVideo(){return!1}setGooglePriceFloor(e,t){const r=this.computePriceFloor(e,t);null!=r&&(this.googlePriceFloor=Math.max(r,this.googlePriceFloor||0))}toPriceFloorObject(){return{code:this.code(),priceFloor:this.priceFloor?this.usdToEuro(this.priceFloor):null,nrHouseAds:this.houseAdWasRenderedInRowCounter}}toPrebidUnit(e){const{adUnit:t}=this.requestUnit,r=e.getPrebid();this.priceFloor=this.computePrebidPriceFloor(r);const i=this.priceFloorToObj(this.priceFloor);return{...{...t,code:this.code()},bids:this.getBidsForPrebid(),floors:i}}getBidsForPrebid(){return this.bids}priceFloorToObj(e){if(null!==e)return{currency:"USD",default:e,schema:{fields:["mediaType"]},values:{[this.isBanner()?"banner":"video"]:e}}}computeApsPriceFloor(){const e=this.requestUnit.priceFloor||this.requestOptions.priceFloor;if(this.requestOptions.noPriceFloor||null==e)return null;if("number"==typeof e)return this.euroToUSD(e);if(b(e)){const t=e(null,[],this.toPriceFloorObject());return null!==t?this.priceFloorToValue(t):null}return null}computePrebidPriceFloor(e){const t=this.requestUnit.priceFloor||this.requestOptions.priceFloor;return this.requestOptions.noPriceFloor?null:this.computePriceFloor(e,t)}computePriceFloor(e,t){return null==t?null:"number"==typeof t?this.computePriceFloorFromNumber(e,t):b(t)?this.computePriceFloorFromFn(e,t):null}computePriceFloorFromNumber(e,t){return this.euroToUSD(t)}computePriceFloorFromFn(e,t){const r=t(this.currentWinningBid(e),this.previousWinningBids(e),this.toPriceFloorObject());return null!==r?this.priceFloorToValue(r):null}priceFloorToValue(e){return"number"!=typeof e||isNaN(e)?(i.warn("misconfigured pricefloor",e),null):this.euroToUSD(e)}getCurrentBids(e){if(!e||!e.getBidResponsesForAdUnitCode)return[];try{const t=this.getPrebidBids(e),r=e=>e&&(e.status&&["targetingSet","rendered"].indexOf(e.status)<0||!e.status),i=e=>e.responseTimestamp+1e3*e.ttl+1e3>(new Date).getTime();return t.filter(r).filter(i)}catch(e){return console.error(e),[]}}finalizePreviousBid(e){if(this.isPreviousFinalized)return;if(this.isPreviousFinalized=!0,!this.previousBid)return;const{adId:t}=this.previousBid,r=this.previousWinners[0];if(!r)return;const i=e.getAllWinningBids().some((e=>e.adId===t));r.rendered=i}setPrebidUnits(e){if(0===this.bids.length)return;const t=this.toPrebidUnit(e);e.addPrebidUnit(t)}setBidderBid(e,t,r){const i=(this.requestUnit.bidders||[]).find((e=>e.bidder===t.code));i?t.setBidding(e,this,i,r):t.setBidding(e,this,null,r)}setBidderBids(e,t,r){if(this.hasAdsenseBid()){const e=t.map((e=>e.code));i.debug(`[AdUnit] ${this.code()} ignoring ${e.join(" ")} bids due to adsense`)}else t.forEach((t=>this.setBidderBid(e,t,r)))}getPrebidBids(e){const{bids:t}=e.getBidResponsesForAdUnitCode(this.code());return t}currentWinningPrebidBid(e){if(!e||!e.getBidResponsesForAdUnitCode)return null;const t=this.getPrebidBids(e).filter((e=>e&&(e.status&&["rendered","bidRejected"].indexOf(e.status)<0||!e.status))).filter((e=>!!e.cpm)).filter((e=>e.responseTimestamp+1e3*e.ttl+1e3>(new Date).getTime()));if(0===t.length)return null;return t.sort(((e,t)=>e.cpm>t.cpm?-1:1))[0]}prebidBidResponseToBidInfo(e){return e?{cpm:e.cpm,rendered:"rendered"===e.status,bidder:e.bidderCode,code:this.code()}:null}priceFloorTargeting(e){const t=this.usdToEuro(e),r=Math.round(100*t),i=this.applyBucket(r,this.getPrebidBucketIncrement(r)),s=this.applyBucket(i,this.getPriceFloorIncrement(i));return(Math.min(s,5e3)/100).toFixed(2)}getPrebidBucketIncrement(e){const t=this.getPriceBuckets();for(const r of t)if(e<=100*r.max)return 100*r.increment;return 100*t[t.length-1].increment}getPriceFloorIncrement(e){return e<=200?1:e<=1e3?5:e<=2e3?10:100}euroToUSD(e){return e/Number(this.requestOptions.dollarRate)}usdToEuro(e){return e*Number(this.requestOptions.dollarRate)}getGooglePriceFloor(){return this.googlePriceFloor||this.priceFloor}applyBucket(e,t){return e-e%t}};function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=[{precision:2,max:10,increment:.01},{precision:2,max:50,increment:.5},{precision:2,max:100,increment:1}];class M extends D{constructor(e,t){super(e,t),L(this,"slot",void 0),L(this,"apstagSlot",void 0),L(this,"maxHouseAdRenderInRow",void 0),L(this,"bids",void 0),this.bids=[],this.maxHouseAdRenderInRow=4}mediaType(){return this.requestUnit.adUnit.mediaTypes.banner}isBanner(){return!0}display(e){googletag.display(this.elementId())}bidParamsForBidder(e,t,r){return e.customBannerBidParams(t,this,r)}checkBidderSettings(e,t){return t.checkBannerSettings(e,this)}canRefresh(){return super.canRefresh()&&this.maxHouseAdRenderInRow>this.houseAdWasRenderedInRowCounter}resetForRefresh(e){if(super.resetForRefresh(e),e)return i.debug("[AdRequester] Remaking slots"),new Promise((e=>{googletag.cmd.push((()=>{const t=this.findSlot();t&&(t.clearTargeting(),googletag.destroySlots([t]),this.markSlotAsDestroyed()),e()}))}))}findSlot(){const{slotId:e}=this.requestUnit;if(e||i.error(`[AdUnit] Missing Slotid for ${this.code()}`),this.slot)return this.slot;return googletag.pubads().getSlots().find((e=>e.getSlotElementId()===this.elementId()))}defineSlot(){const{slotId:e}=this.requestUnit;if(e||i.error(`[AdUnit] Missing Slotid for ${this.code()}`),!this.slot){if(this.slot=googletag.defineSlot(e,this.getSizes(),this.elementId()),this.slot)this.slot.addService(googletag.pubads());else{const e=this.findSlot();this.slot=e}i.debug("[AdUnit] Created slot",this.slot)}}slotId(){return this.slot?this.slot.getAdUnitPath():null}increaseNumberOfImpressions(){this.numberOfImpressions+=1}addApstagSlot(e){const{slotId:t}=this.requestUnit;this.apstagSlot={slotID:e.slotID,slotName:t,sizes:this.getSizes()}}setApstags(e){if(this.apstagSlot){const t=this.computeApsPriceFloor();t&&(this.apstagSlot.floor={value:Math.floor(100*t),currency:"USD"}),e.addApstagSlot(this.apstagSlot)}}renderedNonHouseAd(){i.debug(`[BannerUnit] ${this.code()} rendered non house ad`),this.houseAdWasRenderedInRowCounter=0}renderedHouseAd(){i.debug(`[BannerUnit] ${this.code()} rendered house ad`),this.houseAdWasRenderedInRowCounter++}setSlotTargeting(){const e=this.getSlot(),t=this.getGooglePriceFloor(),r={[this.impressionKey]:this.numberOfImpressions.toString()};return null!==t&&(r[this.priceFloorKey]=this.priceFloorTargeting(t)),e.updateTargetingFromMap(r),e}getSlot(){if(!this.slot)throw new Error(`[AdUnit] ${this.code()} expected to have googletag slot`);return this.slot}markSlotAsDestroyed(){this.slot=void 0}invokeCallback(e,t,r,s,n){const{banner:o}=this.requestUnit,a=o&&o.callback||n;if(a)try{const i=this.getMinPricePaidForUnit(e,s,t);a({empty:t,size:r,code:this.code(),slotId:this.slotId(),houseAd:s,minPrice:i})}catch(e){i.error(`[BannerUnit] ${this.code()}, err in invoking callback`)}}getPriceBuckets(){return N}getMinPricePaidForUnit(e,t,r){if(t||r)return 0;const i=e.getHighestCpmBids(this.code())[0]||null,s=this.amazonBid,n=this.priceFloor;return((null==s?void 0:s.cpm)||0)>=((null==i?void 0:i.cpm)||0)?Math.max((null==s?void 0:s.cpm)||0,n||0):i?Math.max(i.cpm,n||0):n||0}}L(M,"houseAdWasRenderedTwiceInRowKey","house_ad_twice_row");const V=M;let G,W,$,H,K,Y,J;function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e[e.VAST1=1]="VAST1",e[e.VAST2=2]="VAST2",e[e.VAST3=3]="VAST3",e[e.VAST1Wrapper=4]="VAST1Wrapper",e[e.VAST2Wrapper=5]="VAST2Wrapper",e[e.VAST3Wrapper=6]="VAST3Wrapper",e[e.VAST4=7]="VAST4",e[e.VAST4Wrapper=8]="VAST4Wrapper",e[e.DAAST1=9]="DAAST1",e[e.DAAST1Wrapper=10]="DAAST1Wrapper"}(G||(G={})),function(e){e[e.VPAID1=1]="VPAID1",e[e.VPAID2=2]="VPAID2",e[e.MRAID1=3]="MRAID1",e[e.ORMAA=4]="ORMAA",e[e.MRAID2=5]="MRAID2",e[e.MRAID3=6]="MRAID3",e[e.OMID_1_0=7]="OMID_1_0",e[e.SIMID_1_0=8]="SIMID_1_0",e[e.SIMID_1_1=9]="SIMID_1_1"}(W||(W={})),function(e){e[e.INSTREAM=1]="INSTREAM",e[e.OUTSTREAM=2]="OUTSTREAM"}($||($={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(H||(H={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(K||(K={})),function(e){e[e.INSTREAM=1]="INSTREAM"}(Y||(Y={})),function(e){e[e.CLICK_WITH_SOUND=3]="CLICK_WITH_SOUND"}(J||(J={}));class Q{constructor(e){let{apiName:t,apiVersion:r,apiArgs:i=["command","callback","version"],callbackArgs:s=["returnValue","success"]}=e;Z(this,"win",window),Z(this,"apiName",void 0),Z(this,"apiVersion",void 0),Z(this,"apiArgs",void 0),Z(this,"callbackArgs",void 0),Z(this,"callName",void 0),Z(this,"returnName",void 0),Z(this,"cmpCallbacks",{}),this.apiName=t,this.apiVersion=r,this.apiArgs=i,this.callbackArgs=s,this.callName=`${t}Call`,this.returnName=`${t}Return`}installLocator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(window[this.apiName])return Promise.resolve();return t>=e?Promise.resolve():((()=>{const{cmpFrame:e}=this.findLocatorFrame();e&&this.setupCMPWhileInIframe(e)})(),window[this.apiName]?Promise.resolve():new Promise((r=>{window.setTimeout((async()=>{await this.installLocator(e,t+1),r()}),50)})))}findLocatorFrame(){let e,t=window;for(;!e;){try{if(t.frames[`${this.apiName}Locator`]){e=t;break}}catch(e){}if(t===window.top)break;t=t.parent}return{cmpFrame:e}}setupCMPWhileInIframe(e){var t=this;window[this.apiName]=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const n=Math.random()+"",o=t.apiArgs.reduce(((e,t,r)=>(e[t]=i[r],e)),{version:t.apiVersion,callId:n}),a=o.callback,d=Object.fromEntries(Object.entries(o).filter((e=>{let[t,r]=e;return"callback"!==t}))),c={[t.callName]:d};void 0!==a&&(t.cmpCallbacks[n]=a),e.postMessage(c,"*")},this.win.addEventListener("message",(e=>this.readPostMessageResponse(e)),!1)}readPostMessageResponse(e){var t;const r="string"==typeof e.data&&e.data.includes(this.returnName)?JSON.parse(e.data):e.data;if(null!=r&&null!==(t=r[this.returnName])&&void 0!==t&&t.callId){const e=r[this.returnName];try{this.cmpCallbacks.hasOwnProperty(e.callId)&&void 0!==this.cmpCallbacks[e.callId]&&(this.cmpCallbacks[e.callId](...this.callbackArgs.map((t=>e[t]))),delete this.cmpCallbacks[e.callId])}catch{}}}}const X=function(){const e=new Q({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]}),t=new Q({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});return Promise.all([e.installLocator(5),t.installLocator(5)])};function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class te{static getInstance(){return this.Instance||(this.Instance=new te),this.Instance}constructor(){ee(this,"uspConsent",void 0),ee(this,"tcfData",null),ee(this,"tcfSuccess",!1),ee(this,"tcfConsentListeners",[]),ee(this,"consentCBInstalled",!1),ee(this,"tcfInstalledListenerInstalled",!1),ee(this,"consentCb",((e,t)=>{this.tcfConsentListeners.forEach((r=>{this.callConsentListener(r,e,t)})),t&&e&&(this.tcfData=e,this.tcfSuccess=t,"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||this.removeConsentCB())})),ee(this,"installTCFLoadedListener",(()=>{this.tcfInstalledListenerInstalled||(window.addEventListener("message",this.tcfLoadedListener),this.tcfInstalledListenerInstalled=!0)})),ee(this,"tcfLoadedListener",(e=>{e.data&&"tcf-loaded"===e.data&&(this.installConsentCB(),window.removeEventListener("message",this.tcfLoadedListener))})),this.installConsentCB()}getUspConsent(){return Promise.race([this.getUspConsentFromCMP(),n(200,null)])}addTCFConsentListener(e){this.tcfConsentListeners.push(e),this.tcfData&&this.callConsentListener(e,this.tcfData,this.tcfSuccess)}hasTCFConsent(){if(!this.tcfSuccess||!this.tcfData)return!1;return!this.tcfData.gdprApplies||"tcloaded"===this.tcfData.eventStatus||"useractioncomplete"===this.tcfData.eventStatus}removeTCConsentListener(e){this.tcfConsentListeners=this.tcfConsentListeners.filter((t=>t!==e))}callConsentListener(e,t,r){try{e(t,r)}catch(e){console.error(e)}}installConsentCB(){if(this.consentCBInstalled)return;const e=window;e.__tcfapi||X(),e.__tcfapi?(e.__tcfapi("addEventListener",2,this.consentCb),this.consentCBInstalled=!0):this.installTCFLoadedListener()}removeConsentCB(){var e;const t=window;var r;t.__tcfapi&&null!==(e=this.tcfData)&&void 0!==e&&e.listenerId&&t.__tcfapi("removeEventListener",2,null===(r=this.tcfData)||void 0===r?void 0:r.listenerId)}getUspConsentFromCMP(){return new Promise(((e,t)=>{if(void 0===this.uspConsent){const t=window.__uspapi;t?t("getUSPData",1,((t,r)=>{this.uspConsent=r?t:null,e(this.uspConsent)})):(this.uspConsent=null,e(this.uspConsent))}else e(this.uspConsent)}))}}ee(te,"Instance",void 0);const re=te;function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const se=[{precision:2,max:20,increment:.01},{precision:2,max:50,increment:.1},{precision:2,max:100,increment:1}];const ne=class extends D{constructor(e,t){super(e,t),ie(this,"maxAdDurationKey","max_ad_duration"),ie(this,"videoTypeKey","vpos"),ie(this,"descriptionUrlKey","description_url"),ie(this,"apstagSlots",[]),ie(this,"googleBid",void 0),ie(this,"bids",void 0),ie(this,"currentPlacement",null),this.bids=[]}mediaType(){return this.requestUnit.adUnit.mediaTypes.video}isVideo(){return!0}videoType(e){const t=this.requestUnit.video.videoType;return e||"midroll"!==t?t:"preroll"}bidParamsForBidder(e,t,r){return e.customVideoBidParams(t,this,r)}addBid(e){const t={...e,placement:this.currentPlacement};super.addBid(t)}code(){const e=super.code();return this.currentPlacement?`${e}-${this.currentPlacement}`:e}setBidderBid(e,t,r){const{placements:s}=this.requestUnit.video,n=this.videoType();s||i.error("[VideoUnit] should have placements"),Object.keys(s).forEach((i=>{this.currentPlacement=i;const o=s[i],a=this.openRTB(o,n),d=(o.bidders||[]).find((e=>e.bidder===t.code));d?t.setBidding(e,this,d,{...r,openRTB:a}):t.setBidding(e,this,null,{...r,openRTB:a})})),this.currentPlacement=null}checkBidderSettings(e,t){return t.checkVideoSettings(e,this)}async buildUrlWithConsent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await this.consentParams();return this.buildUrl(e,t,i,r)}buildUrl(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{placements:n}=this.requestUnit.video,o=Object.keys(n).map((t=>{this.currentPlacement=t;return{bid:this.currentWinningPrebidBid(e),placement:t}})),a=o.reduce(((e,t)=>{var r;return t.bid?null!==(r=e.bid)&&void 0!==r&&r.cpm&&e.bid.cpm>=t.bid.cpm?e:t:e}),o[0]);if(!a)throw new Error("[VideoUnit] Display video expected at least one bidder");this.currentPlacement=a.placement;const d=this.code(),c=(e.adUnits||[]).filter((e=>e.code===d));if(1!==c.length)throw new Error("[VideoUnit] Display video expected single unit");i.debug(`[VideUnit] ${d} has highest bid`);const u=c[0],l={};for(const e in s)if(s.hasOwnProperty(e)){const t=s[e];null!=t&&(l[e]=t)}const h=this.getGooglePriceFloor(),p=h&&this.priceFloorTargeting(h);let g={};if(p){const e=parseFloat(p);g={pubf:Math.floor(1e6*e).toFixed(0)}}const f={iu:this.requestUnit.slotId,ad_type:"video_text",tfcd:t.tfcd||0,trt:this.trt(),vad_type:"linear",plcmt:Y.INSTREAM,...r,...this.customUrlParams(),cust_params:{...l,...h&&{[this.priceFloorKey]:p},...g}};i.debug(`[VideoUnit] URL Params ${JSON.stringify(f)}`);const m=e.adServers.dfp.buildVideoUrl({adUnit:u,params:f});if(e.markWinningBidAsUsed({adUnitCode:this.code()}),this.currentPlacement=null,this.amazonBid){const e=new URL(m),t=`${e.searchParams.get("cust_params")}${this.amazonBid.qsParams}`;return e.searchParams.set("cust_params",t),e.toString()}return m}invokeCallback(e,t,r){const{video:s}=this.requestUnit,n=s&&s.callback||r;if(!n)return;const o=this.getCurrentBids(e).map((e=>({cpm:e.cpm,bidder:e.bidderCode,responseTimestamp:e.responseTimestamp}))),a=this.amazonBid?{cpm:this.usdToEuro(this.amazonBid.cpm),bidder:"amazon",requestTimestamp:Date.now()}:null,d=a?[a,...o]:o;try{n(t,this.code(),d)}catch(e){i.error(`[VideoUnit] ${this.code()}, err in invoking callback`)}}openRTB(e,t){const{maxDuration:r,skippable:i}=e,s=this.getStartdelay(t),n={...this.baseOpenRTB(),minduration:1,startdelay:s,...void 0!==r?{maxduration:r||15}:{},...void 0!==i?{skip:i?1:0}:{}};return i&&(n.skipafter=5),n}addApstagSlot(e){this.apstagSlots.push({slotID:e.slotID,mediaType:"video"})}setApstags(e){this.apstagSlots.forEach((t=>{const r=this.computeApsPriceFloor();r&&(t.floor={value:Math.floor(100*r),currency:"USD"}),e.addApstagSlot(t)}))}setGoogleVideoBid(e){var t;const{maxDuration:r,...i}=e,s=(null===(t=this.googleBid)||void 0===t?void 0:t.maxDuration)||0,n=this.googleBid&&void 0===this.googleBid.maxDuration;let o;void 0===r||n?o=void 0:r>=s&&(o=r),this.googleBid={...i,maxDuration:o}}setPrebidUnits(e){const{placements:t}=this.requestUnit.video;t||i.error("[VideoUnit] should have placements"),Object.keys(t).forEach((t=>{this.currentPlacement=t;const r=this.toPrebidUnit(e);e.addPrebidUnit(r)})),this.currentPlacement=null}getBidsForPrebid(){return this.bids.filter((e=>e.placement===this.currentPlacement)).map((e=>{let{placement:t,...r}=e;return r}))}getPrebidBids(e){if(this.currentPlacement)return super.getPrebidBids(e);{const{placements:t}=this.requestUnit.video,r=Object.keys(t).reduce(((t,r)=>{this.currentPlacement=r;const i=super.getPrebidBids(e);return t.concat(i)}),[]);return this.currentPlacement=null,r}}toPrebidUnit(e){const t=super.toPrebidUnit(e),{mediaTypes:r}=t,{placements:i}=this.requestUnit.video,s=this.videoType(),n=this.openRTB(i[this.currentPlacement],s),o=r.video,a=Object.assign({},o||{},n),d=Object.assign({},r,{video:a});return{...t,mediaTypes:d}}getPriceBuckets(){return se}getStartdelay(e){return"midroll"===e?-1:0}baseOpenRTB(){return{context:"instream",protocols:[G.VAST1,G.VAST2,G.VAST2Wrapper,G.VAST3,G.VAST3Wrapper,G.VAST4,G.VAST4Wrapper],api:[W.VPAID1,W.VPAID2,W.OMID_1_0,W.SIMID_1_0],mimes:["video/mp4","video/webm","video/quicktime","video/ogg","application/javascript"],linearity:$.INSTREAM,minbitrate:10,maxbitrate:1e4,placement:H.INSTREAM,plcmt:K.INSTREAM,playbackmethod:[J.CLICK_WITH_SOUND]}}customUrlParams(){if(!this.requestOptions.video||!this.requestUnit.video)return{};if(!this.googleBid)return i.warn("[VideoUnit] Missing a google bid"),{};const e=this.videoType(!0),{maxDuration:t,descriptionUrl:r}=this.googleBid;return{...t&&{[this.maxAdDurationKey]:1e3*t},...e&&{[this.videoTypeKey]:this.videoTypeParam(e)},...r&&{[this.descriptionUrlKey]:r}}}videoTypeParam(e){switch(e){case"preroll":return"preroll";case"midroll":case"rewarded":return"midroll";default:return i.error(`[VideoUnit] Unexpected Video Type ${e}`),"preroll"}}trt(){return this.requestOptions.trafficSource?"purchased"===this.requestOptions.trafficSource?1:2:0}async consentParams(){const{countryCode:e}=this.requestOptions,t=T(e||null),r=await re.getInstance().getUspConsent(),i=r?{us_privacy:r.uspString}:{};if(t){return{...re.getInstance().hasTCFConsent()?{}:{npa:1},...i}}return{npa:0,...i}}};const oe=class{static createAdUnit(e,t){const{mediaTypes:r}=e.adUnit,s=!!r.video,n=!!r.banner;return n&&s&&i.warn(`[AdUnitFactory] ${e.adUnit.code} has multiple formats`),n?new V(e,t):s?new ne(e,t):(i.error(`[AdUnitFactory] ${e.adUnit.code} has no supported formats`),null)}},ae=JSON.parse('{"appnexus":{"exclude":["UA","BY","VE","LB","BA","MK","IQ","ZW","ME","TM","PF","TJ","LY","SO","GP","AX","YE","AD","CD","MC","GA","DZ","IN","ID","PK"]},"pubmatic":{"exclude":["AF","AX","AL","DZ","AD","AM","AZ","BD","BY","BO","BA","BG","CN","CR","CD","DO","EC","EG","SV","PF","GA","GR","GP","GT","HN","IQ","KZ","LV","LB","LY","MK","MD","MC","ME","MA","NP","PK","PA","PY","PE","PT","RS","SO","LK","TJ","TT","TR","TM","UA","UY","VE","VN","YE","ZW","IN","HK"]},"rubicon":{"exclude":["TH","RO","CR","SK","VE","KW","KE","QA","UA","BO","EE","PA","SN","EG","PR","HR","MA","LT","OM","GE","NG","HN","BG","JM","JO","LV","BD","TT","BH","BW","SV","NI","CI","MK","GU","LU","BS","PY","AL","CY","IR","LB","BA","LK","AM","KH","GH","CN","PS","DZ","KZ","GY","TZ","UZ","MD","KY","RW","ZM","BM","MM","NP","AS","NA","MU","ZW","CG","IQ","MO","UG","MP","ET","BY","BB","LC","MV","SR","TM","KG","AO","IM","BN","BT","AX","BZ","SY","DM","GP","GW","GM","AI","AW","MZ","SD","CW","ME","MG","BQ","RE","VC","VI","MC","PG","LA","AG","MN","MQ","KN","GG","GD","NE","CD","SC","SX","GF","NC","AD","MW","LY","FJ","VG","NU","CU","SM","SL","PF","HT","JE","AF","FO","GA","LI","SZ","SS","GL","GN","GI","CM","MR","LS","TG","YT","SO","DJ","TC","CV","LR","VA","BF","TJ","BI","TL","FM","BJ","ML","MS","YE","CF","SB","MF","CK","TD","BL","PM","KM","TO","VU","WS","FK","WF","ST","GQ","NF","PW","KI","MH","CO","AZ","AR","DO","PE","GT","TR","EC"]},"venatus":{"include":["US","GB","CA","FR","IT","ES","DE","TW","PE","BE","GR"]},"rise":{"include":["US","CA","GB","DE","AU","NL","BE"]},"triplelift":{"exclude":["IN","TW","PH"]},"ix":{"exclude":["CN","AE","CH","EG"]},"sharethrough":{"exclude":["CO"]},"adagio":{"exclude":["MY"]}}');function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ce{constructor(e,t,r){this.code=e,this.config=t,this.dollarToEuro=r,de(this,"excludedCountries",void 0),de(this,"includedCountries",void 0),de(this,"adjust",(e=>{const{cost:t,discrepancy:r}=this.config;return e*this.dollarToEuro*(1-t)*(1-r)})),this.logConfig(t),this.isNumber(this.dollarToEuro)||this.warnWrongVariable("dollarToEuro",r);const i=ae[e],s=["RU"];this.excludedCountries=s,this.includedCountries=null,i&&(this.includedCountries=i.include||null,this.excludedCountries=(i.exclude||[]).concat(s))}setBidding(e,t,r,i){const n=r||this.defaultConfig(),o=this.getBidderSettings(n,t);this.isBidderDisabledForUnit(t,o,i)?s.debug(`[${this.code}] disabled for unit ${t.code()}`):(r||s.warn(`[${this.code}] missing request unit config, bravely continuing with default config`),this.checkSettings(o,t),this.createBidsForUnit(e,t,o,i))}isPrebidBidder(){return!1}getConfig(){return{...this.config}}setConfig(e){this.logConfig(e),this.config=e}checkVideoSettings(e,t){}checkBannerSettings(e,t){}checkSettings(e,t){const{cost:r,discrepancy:i}=e;this.warnIfNotSet("cost",r),this.warnIfNotSet("discrepancy",i),t.checkBidderSettings(e,this)}getBidderSettings(e,t){return Object.assign({},this.config,e)}warn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];s.warn(`[${this.code}Bidder] ${e}`,...r)}warnIfNotSet(e,t){null!=t&&""!==t||this.warnWrongVariable(e,t)}warnWrongVariable(e,t){this.warn(`${e} incorrectly set`,t)}isNumber(e){return"number"==typeof e&&!isNaN(e)}isBidderDisabledForUnit(e,t,r){const{disabled:i}=t;if(!!i)return!0;const{countryCode:s}=r;return!!s&&(this.includedCountries?!this.includedCountries.includes(s):!!this.excludedCountries&&this.excludedCountries.includes(s))}defaultConfig(){return{bidder:this.code}}logConfig(e){s.debug(`[${this.code}] ${JSON.stringify(e)}`)}}const ue=class extends ce{createBidsForUnit(e,t,r){this.createBid(t,r)}createBid(e,t){const{slot:r,client:i}=t;if(!r)return void s.warn("[AdSense] missing slot");if(!i)return void s.error("[AdSense] missing client id");const n=e.code(),o=document.getElementById(n);if(!o)return void s.warn(`[AdSense] cannot find element ${n}`);const[a,d]=e.maxSize(),c=document.createElement("ins");c.setAttribute("class","adsbygoogle"),c.setAttribute("style",`display:inline-block;width:${a}px;height:${d}px`),c.setAttribute("data-ad-client",i),c.setAttribute("data-ad-slot",r),o.appendChild(c),e.adsenseBid()}};class le extends ce{checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{slotID:r}=e;this.warnIfNotSet("slotID",r)}createBidsForUnit(e,t,r,i){const{pubID:s,adServer:n,slotID:o}=r;e.setApstagConfig({pubID:s||"",adServer:n}),t.addApstagSlot({slotID:o||t.code()})}checkSettings(e,t){super.checkSettings(e,t);const{pubID:r,adServer:i}=e;this.warnIfNotSet("pubID",r),this.warnIfNotSet("adServer",i)}}class he extends ce{isPrebidBidder(){return!0}getAdjustment(){return{[this.prebidCode()]:{bidCpmAdjustment:e=>this.adjust(e)}}}prebidCode(){return this.code}createBidsForUnit(e,t,r,i){const s=this.toBid(e,r,t,i);t.addBid(s)}customBidParams(e,t,r){return t.bidParamsForBidder(this,e,r)}toBid(e,t,r,i){if(this.code!==t.bidder)throw new Error("[Bidder] wrong bidconfig");return{bidder:this.prebidCode(),params:this.bidParams(e,t,r,i)}}bidParams(e,t,r,i){const n=this.customBidParams(t,r,i);return s.debug(`[${this.code}] Bid Params:`,n),n}}class pe extends he{customVideoBidParams(e,t,r){const i=this.customAdUnitParams(e,t.mediaType()),{maxduration:s,minduration:n,skip:o,api:a}=r.openRTB;return{...i,video:{maxduration:s,minduration:n,skippable:1===o,frameworks:a,context:"pre_roll"}}}customBannerBidParams(e,t){const r=t.mediaType();return this.customAdUnitParams(e,r)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:r}=e;this.warnIfNotSet("placementId",r)}customAdUnitParams(e,t){const{pos:r}=t,{placementId:i}=e;return{placementId:`${i}`,allowSmallerSizes:!0,supplyType:"web",position:1===r?"above":void 0}}}class ge extends ce{constructor(){var e,t,r;super(...arguments),r=(e,t,r)=>{const{priceFloor:i}=r;return e?Math.max(e.cpm-.01,i||0)||null:i||null},(t="defaultPf")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}createBidsForUnit(e,t,r,i){const s=r.priceFloor||this.defaultPf;if(t.setGooglePriceFloor(e.getPrebid(),s),t.isVideo()){const e=t,s=i.openRTB,{descriptionUrl:n}=r,{maxduration:o}=s;e.setGoogleVideoBid({descriptionUrl:n,maxDuration:o})}}isBidderDisabledForUnit(e,t,r){const i=super.isBidderDisabledForUnit(e,t,r);return e.isVideo()?i:(i&&this.warn("disabling googlebidder is not supported"),!1)}checkSettings(e,t){if(super.checkSettings(e,t),t.isVideo()){const{descriptionUrl:t}=e;t||this.warnIfNotSet("descriptionUrl",t)}}}class fe extends he{customVideoBidParams(e,t,r){const i=this.customAdUnitParams(e,r),{openRTB:s}=r,n=(null==s?void 0:s.minduration)??4,o=(null==s?void 0:s.maxduration)??(null!=s&&s.skip?60:15),a=1===(null==s?void 0:s.skip)?15:void 0;return{...i,video:{...s,minduration:n,maxduration:o,skipmin:a}}}customBannerBidParams(e,t,r){return this.customAdUnitParams(e,r)}checkVideoSettings(e,t){super.checkVideoSettings(e,t)}createBidsForUnit(e,t,r,i){const{sizes:s}=r;s.forEach((s=>{const n=Object.assign({},r,{size:s.slice()}),o=this.toBid(e,n,t,i);t.addBid(o)}))}customAdUnitParams(e,t){const{siteId:r,size:i}=e;return this.warnIfNotSet("size",i),{siteId:`${r}`,size:i,pageUrl:t.pageUrl}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:r}=e;this.warnIfNotSet("siteId",r)}}class me extends he{customBannerBidParams(e,t,r){return this.customUnitBidParams(e,r)}customVideoBidParams(e,t,r){const{api:i,protocols:s,mimes:n,skip:o,...a}=r.openRTB;return{...this.customUnitBidParams(e,r),video:{...a,skip:o??0}}}createBidsForUnit(e,t,r,i){const{adSlot:s,addSizes:n=!0}=r,o=t.getSizes();return n&&s?void o.forEach((n=>{const[o,a]=n,d=`${s}@${o}x${a}`,c=Object.assign({},r,{adSlot:d}),u=this.toBid(e,c,t,i);t.addBid(u)})):super.createBidsForUnit(e,t,r,i)}customUnitBidParams(e,t){const{pageUrl:r}=t,{publisherId:i,adSlot:s}=e;return s?{publisherId:i||"",adSlot:s,kadpageurl:r}:{publisherId:i||"",kadpageurl:r}}checkSettings(e,t){super.checkSettings(e,t);const{publisherId:r}=e;this.warnIfNotSet("publisherId",r)}}class be extends he{customBannerBidParams(e,t){const r=this.customUnitBidParams(e),{sizes:i}=e;return{...r,...i&&{sizes:i}}}customVideoBidParams(e,t,r){this.checkVideoSizeSetting(e);const{sizes:i,language:s}=e,n=this.customUnitBidParams(e),o=r.openRTB,a=i?i[0]:null;return{...n,...a&&{size_id:a},video:{...o,language:s||"en"}}}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{language:r}=e;this.warnIfNotSet("language",r)}customUnitBidParams(e){const{accountId:t,siteId:r,position:i,zoneId:s}=e;return{accountId:t||"",siteId:r||"",zoneId:s||"",...i&&{position:i}}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:r,zoneId:i,accountId:s}=e;this.warnIfNotSet("siteId",r),this.warnIfNotSet("zoneId",i),this.warnIfNotSet("accountId",s)}checkVideoSizeSetting(e){const{sizes:t}=e;t&&1!==t.length&&this.warnWrongVariable("sizes",t)}}class ve extends he{customBannerBidParams(e,t,r){return this.customUnitBidParams(e)}customVideoBidParams(e,t,r){return{...this.customUnitBidParams(e),video:{...r.openRTB}}}checkBannerSettings(e,t){const{inventoryCode:r}=e;super.checkBannerSettings(e,t),this.warnIfNotSet("inventoryCode",r)}checkVideoSettings(e,t){const{inventoryCode:r}=e;super.checkVideoSettings(e,t),this.warnIfNotSet("inventoryCode",r)}customUnitBidParams(e){const{inventoryCode:t}=e;return{inventoryCode:t}}}class ye extends he{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,r){return this.customUnitBidParams(e)}customUnitBidParams(e){const{pkey:t}=e;return{pkey:t,iframe:!0}}checkSettings(e,t){super.checkSettings(e,t);const{pkey:r}=e;this.warnIfNotSet("pkey",r)}}class we extends he{customBannerBidParams(e,t,r){return this.customUnitBidParams(e,r)}customVideoBidParams(e,t,r){return this.customUnitBidParams(e,r)}checkBannerSettings(e,t){super.checkBannerSettings(e,t),s.error("Venatus should be disabled for banners")}customUnitBidParams(e,t){const{pageUrl:r}=t,{AV_PUBLISHERID:i,AV_CHANNELID:s,AV_CGINFO:n}=e;return{AV_PUBLISHERID:i,AV_CHANNELID:s,AV_CGINFO:n,AV_URL:r}}checkSettings(e,t){super.checkSettings(e,t);const{AV_PUBLISHERID:r,AV_CHANNELID:i}=e;this.warnIfNotSet("AV_PUBLISHERID",r),this.warnIfNotSet("AV_CHANNELID",i)}}class Ae extends he{customBannerBidParams(e,t){return this.customUnitBidParams(e,t)}customVideoBidParams(e,t,r){return this.warn("should be disabled for video"),this.customUnitBidParams(e,t)}customUnitBidParams(e,t){const{organizationId:r,site:i,placement:s=this.defaultPlacement(t),pagetype:n,environment:o,category:a}=e;return{organizationId:r,site:i,placement:s,adUnitElementId:t.elementId(),pagetype:n,environment:o,category:a}}checkBannerSettings(e,t){const{organizationId:r,site:i,placement:s=this.defaultPlacement(t)}=e;this.warnIfNotSet("organizationId",r),this.warnIfNotSet("site",i),this.warnIfNotSet("placement",s)}defaultPlacement(e){const t=e.requestUnit.slotId;if(!t)return null;const r=t.split("/");return r[r.length-1].slice(0,30)}}class Se extends he{customBannerBidParams(e,t){return this.customUnitBidParams(e)}customVideoBidParams(e,t,r){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{org:r,placementId:i}=e;this.warnIfNotSet("org",r),this.warnIfNotSet("placementId",i)}customUnitBidParams(e){const{org:t,placementId:r,testMode:i}=e;return{org:t,placementId:r,testMode:i}}}class Be extends he{customBannerBidParams(e,t){return this.warn("should be disabled for banners"),this.customUnitBidParams(e)}customVideoBidParams(e,t,r){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{sid:r}=e;this.warnIfNotSet("sid",r)}customUnitBidParams(e){const{sid:t}=e;return{sid:t}}}class Pe extends he{customBannerBidParams(e,t){const r=this.customUnitBidParams(e),{sizes:i}=e;return{...r,...i&&{sizes:i}}}customVideoBidParams(e,t,r){this.checkVideoSizeSetting(e);const{sizes:i,language:s}=e,n=this.customUnitBidParams(e),o=r.openRTB,a=i?i[0]:null;return{...n,...a&&{size_id:a},video:{...o,language:s||"en"}}}checkVideoSettings(e,t){super.checkVideoSettings(e,t);const{language:r}=e;this.warnIfNotSet("language",r)}customUnitBidParams(e){const{accountId:t,siteId:r,position:i,zoneId:s}=e;return{accountId:t||"",siteId:r||"",zoneId:s||"",...i&&{position:i}}}checkSettings(e,t){super.checkSettings(e,t);const{siteId:r,zoneId:i,accountId:s}=e;this.warnIfNotSet("siteId",r),this.warnIfNotSet("zoneId",i),this.warnIfNotSet("accountId",s)}checkVideoSizeSetting(e){const{sizes:t}=e;t&&1!==t.length&&this.warnWrongVariable("sizes",t)}}class ke extends he{customVideoBidParams(e,t,r){return this.customUnitBidParams(e)}customBannerBidParams(e,t,r){return this.customUnitBidParams(e)}checkSettings(e,t){super.checkSettings(e,t);const{placementId:r}=e;this.warnIfNotSet("placementId",r)}customUnitBidParams(e){const{placementId:t}=e;return{placementId:t}}}const Ie=JSON.parse('{"advertising":{"priceFloor":0.02,"bidders":[{"bidder":"rubicon","cost":0,"discrepancy":0.03,"accountId":"16980","siteId":"152672"},{"bidder":"appnexus","discrepancy":0.015},{"bidder":"ix","discrepancy":0.065},{"bidder":"pubmatic","cost":0,"discrepancy":0.03,"publisherId":"156561"},{"bidder":"amazon","pubID":"9e9bffbc-66c5-4b5b-89aa-4d839e05ce3a","adServer":"googletag"},{"bidder":"triplelift","discrepancy":0.06,"disabled":true},{"bidder":"adsense","client":"ca-pub-8415986145297288","disabled":true},{"bidder":"grid","discrepancy":0.045,"disabled":true},{"bidder":"sharethrough","disabled":true,"discrepancy":0.045},{"bidder":"venatus","disabled":true,"cost":0.3,"discrepancy":0.015,"AV_PUBLISHERID":"5f2063121d82c82557194737"},{"bidder":"adagio","disabled":true,"discrepancy":0.02,"organizationId":"1297"},{"bidder":"rise","disabled":true,"discrepancy":0.02,"org":"62a8b3133e1cca000167166d"},{"bidder":"stroeerCore","disabled":true},{"bidder":"shemedia","disabled":true,"cost":0.5,"accountId":"10278"},{"bidder":"mediafuse","disabled":true,"cost":0.2,"placementId":32058692}],"server":{"endpoint":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","syncEndpoint":"https://prebid.adnxs.com/pbs/v1/cookie_sync","accountId":"a37f9415-13c7-4a3a-abae-9c18699ec8ff"}},"houseAds":{"advertiserIds":[134924547]}}'),Te=Ie.houseAds;function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ue=new class{constructor(){xe(this,"listeners",[]),xe(this,"listenerInstalled",!1),xe(this,"internalListener",(e=>{this.listeners.forEach((t=>{t(e)}))}))}removeAllListeners(){this.listeners=[],this.removeListener()}addListener(e){this.installListener(),this.listeners.push(e)}installListener(){if(this.listenerInstalled)return;this.listenerInstalled=!0;googletag.pubads().addEventListener("slotRenderEnded",this.internalListener)}removeListener(){if(!this.listenerInstalled)return;googletag.pubads().removeEventListener("slotRenderEnded",this.internalListener),this.listenerInstalled=!1}};const _e=class{constructor(e){var t,r,i;this.pbjs=e,i=Ue,(r="renderListener")in(t=this)?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i}render(e,t,r,i,s,n,o,a){if(0===t.length)return Promise.resolve();const{adsenseUnits:d,prebidUnits:c}=this.groupAdunitsByType(t);if(d.length>0&&this.renderAdsense(d),0===c.length)return Promise.resolve();const u=i.filter((e=>c.some((t=>t.code()===e.code)))),l=this.getSlotHasBeenRenderedFn(this.pbjs,Object.values(e.getHistoricalBanners()),Te.advertiserIds,n,e,!0);return new Promise((e=>{googletag.cmd.push((()=>{this.renderListener.removeAllListeners(),this.renderListener.addListener(l),this.pbjs.que.push((()=>{this.createDfpObjects(c,r,a),this.setAmazonTargeting(s),this.setPrebidTargeting(u),this.showAds(t,o).finally((()=>{e()}))}))}))}))}refresh(e,t,r,i,s,n){const{prebidUnits:o}=this.groupAdunitsByType(t);if(0===o.length)return Promise.resolve();const a=i.filter((e=>o.some((t=>t.code()===e.code)))),d=this.getSlotHasBeenRenderedFn(this.pbjs,t,Te.advertiserIds,n,e);return new Promise((e=>{googletag.cmd.push((()=>{this.renderListener.removeAllListeners(),this.renderListener.addListener(d),t.forEach((e=>e.increaseNumberOfImpressions())),googletag.pubads().clearTargeting(),this.createDfpTargets(o,r),this.setAmazonTargeting(s),this.setPrebidTargeting(a),this.refreshUnits(o),e()}))}))}renderAdsense(e){i.debug("[BannerRenderer] Rendering AdSense");const t=window;e.forEach((()=>{(t.adsbygoogle=t.adsbygoogle||[]).push({})}))}refreshUnits(e){const t=e.map((e=>e.getSlot()));i.debug(`[BannerRenderer] Refreshing slots ${t.map((e=>e.getSlotElementId()))}`),googletag.pubads().refresh(t)}async showAds(e,t){await c()&&!t&&await m(!0),e.forEach((e=>e.display(this.pbjs))),googletag.pubads().refresh(e.map((e=>e.getSlot())))}createDfpObjects(e,t,r){if(this.createDfpTargets(e,t),googletag.pubads().enableSingleRequest(),r){const e="organic"===r?googletag.enums.TrafficSource.ORGANIC:googletag.enums.TrafficSource.PURCHASED;googletag.pubads().setPrivacySettings({trafficSource:e})}googletag.enableServices()}createDfpTargets(e,t){for(const e in t)if(t.hasOwnProperty(e)){const r=t[e];this.setDfpTarget(e,r)}e.forEach((e=>e.setSlotTargeting()))}setDfpTarget(e,t){if(null==t)return;let r;i.debug(`[googletag] Target ${e} ${t}`),r=Array.isArray(t)?t.map((e=>`${e}`)):`${t}`,googletag.pubads().setTargeting(e,r)}setAmazonTargeting(e){0===e.length||this.apstag().setDisplayBids()}setPrebidTargeting(e){0===e.length||(this.pbjs&&this.pbjs.setTargetingForGPTAsync&&this.pbjs.setTargetingForGPTAsync(e.map((e=>e.code))),this.pbjs&&this.pbjs.registerSignalSources&&this.pbjs.registerSignalSources())}apstag(){return window.apstag}getSlotHasBeenRenderedFn(e,t,r,i,s,n){return o=>{const a=t.filter((e=>e.isBanner())),{advertiserId:d,slot:c}=o,u=a.filter((e=>e.slotId()===c.getAdUnitPath()));if(n&&s.removeHistoricalBanner(u),1!==u.length)return;const l=u[0],h=null===d||r.some((e=>e===d));h?l.renderedHouseAd():l.renderedNonHouseAd(),l.invokeCallback(e,o.isEmpty,o.size,h,i.callback)}}groupAdunitsByType(e){const t=[],r=[];return e.forEach((e=>{e.hasAdsenseBid()?t.push(e):r.push(e)})),{adsenseUnits:t,prebidUnits:r}}};const je=class{constructor(e){this.pbjs=e}render(e,t,r,i,s){return this.renderVideoUnits(e,t,r,i,s),Promise.resolve()}refresh(e,t,r,i,s){return this.renderVideoUnits(e,t,r,i,s),Promise.resolve()}renderVideoUnits(e,t,r,i,s){const{callback:n}=t;e.forEach((e=>{const t=this.createRenderCallback(e,r);e.invokeCallback(this.pbjs,t,n)}))}buildUrl(e,t){return e.buildUrl(this.pbjs,{},{},t)}buildUrlWithConsent(e,t,r){return e.buildUrlWithConsent(this.pbjs,t,r)}createRenderCallback(e,t){return r=>r?this.renderCallback(e,r,t):this.legacyRenderCallback(e,t)}async renderCallback(e,t,r){const s=await this.buildUrlWithConsent(e,t,r);return i.debug(`[VideoRenderer] URL generated for ${e.code()}: ${s}`),s}legacyRenderCallback(e,t){const r=this.buildUrl(e,t);return i.debug(`[VideoRenderer] URL generated for ${e.code()}: ${r}`),r}};function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Re=class{constructor(e){Ce(this,"videoRenderer",void 0),Ce(this,"bannerRenderer",void 0),Ce(this,"dfpParams",void 0),Ce(this,"videoOptions",void 0),Ce(this,"bannerOptions",void 0),this.videoRenderer=new je(e),this.bannerRenderer=new _e(e),this.dfpParams=this.defaultDfpKeys(),this.videoOptions={},this.bannerOptions={}}async render(e,t,r,i,s,n){const{video:o,banner:a}=this.splitUnitsByType(t);this.dfpParams=Object.assign(this.defaultDfpKeys(),i,r.dfp),this.videoOptions=Object.assign(this.videoOptions,r.video),this.bannerOptions=Object.assign(this.bannerOptions,r.banner),await Promise.all([this.bannerRenderer.render(e,a,this.dfpParams,s,n,this.bannerOptions,r.disableBlockthrough,r.trafficSource),this.videoRenderer.render(o,this.videoOptions,this.dfpParams,s,n)])}async refresh(e,t,r,i,s,n){this.dfpParams=Object.assign(this.dfpParams,i,r.dfp||{}),this.videoOptions=Object.assign(this.videoOptions,r.video||{}),this.bannerOptions=Object.assign(this.bannerOptions,r.banner);const{video:o,banner:a}=this.splitUnitsByType(t);await Promise.all([this.bannerRenderer.refresh(e,a,this.dfpParams,s,n,this.bannerOptions),this.videoRenderer.refresh(o,this.videoOptions,this.dfpParams,s,n)])}splitUnitsByType(e){return e.reduce(((e,t)=>{let{video:r,banner:i}=e;return t.isVideo()?{video:[...r,t],banner:i}:{video:r,banner:[...i,t]}}),{video:[],banner:[]})}defaultDfpKeys(){return Object.assign({},Ie.advertising.dfp||{})}};function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const qe=class{constructor(e){ze(this,"pbjs",void 0),ze(this,"isApstagInitialized",void 0),ze(this,"bidders",void 0),ze(this,"prebidAdUnits",void 0),ze(this,"apstagSlots",void 0),ze(this,"requestTimeout",void 0),ze(this,"adUnits",void 0),ze(this,"historicalBanners",{}),ze(this,"config",void 0),ze(this,"requestManager",void 0),ze(this,"renderer",void 0),ze(this,"amazonConfig",void 0),ze(this,"prebidFailedToLoad",void 0),ze(this,"apstagFailedToLoad",void 0),ze(this,"requestPromise",void 0),ze(this,"apstagRequestTimeoutHit",!1),ze(this,"apstagRefreshTimeoutHit",!1),ze(this,"cookieDeprecationLabel",null),ze(this,"previousUserDetails",void 0),this.initPrebid(),this.initGoogletag(),this.prebidFailedToLoad=!1,this.apstagFailedToLoad=!1,this.config=e,this.prebidAdUnits=[],this.apstagSlots=[],this.isApstagInitialized=!1,this.requestTimeout=this.config.timeout||1200,this.requestManager=new F(["amazon","prebid"]),this.renderer=new Re(this.pbjs),this.requestPromise=null,googletag.cmd.push((()=>{googletag.pubads().disableInitialLoad()}))}getPrebid(){return this.pbjs}getAdUnits(){return this.adUnits}getHistoricalBanners(){return this.historicalBanners}removeHistoricalBanner(e){e.forEach((e=>{delete this.historicalBanners[e.code()]}))}requestAds(e,t){return this.reset(),new Promise((async(r,s)=>{this.requestPromise={resolve:r,reject:s};const n=[this.installLocatorFrames()];e.units.some((e=>!!e.adUnit.mediaTypes.banner))&&n.push(v.loadIfNeeded().catch((()=>{t.disableBlockthrough||m()}))),await Promise.all(n),this.createBidders(t),this.setPrebidConfig(t),this.loadScripts((r=>{if(i.debug(`[AdRequester] ${r} failed to load`),this.adUnits){const i=this.selectRequestedUnits(e);this.auctioneerRequestFinished(r,i,t)}}),t.disableBlockthrough),this.setTimeout(t),this.processAds(e,t)}))}refreshAds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{remakeSlots:r=!1}=t;return i.debug(`[AdRequester] Refreshing, ${e.codes}`),this.reset(),new Promise((async(s,n)=>{this.requestPromise={resolve:s,reject:n},this.setTimeout(t),this.updateBidders(t);const o=this.selectAdUnitsForRefresh(e);if(0===o.length)return i.debug("[AdRequester] No units to refresh"),void s();o.forEach((e=>e.resetForRefresh(r))),await this.createDfpSlots(),this.setNonGoogleBids(o,t),this.loadAmazonIfBid((()=>{m(),this.auctioneerRefreshFinished("amazon",o,t)})),this.refreshApstag(o,t),this.refreshPrebid(o,t)}))}addPrebidUnit(e){this.prebidAdUnits=this.prebidAdUnits.filter((t=>t.code!==e.code)),this.prebidAdUnits.push(e)}addApstagSlot(e){this.apstagSlots.push(e)}setApstagConfig(e){this.amazonConfig=e}async initializeApstag(e){if(this.isApstagInitialized)return;this.isApstagInitialized=!0;const{countryCode:t}=e,{params:r,...s}=this.amazonConfig,n={...s,params:{...r,videoAdServer:"DFP",us_privacy:await this.apstagPrivacy(t)}};i.debug("[AdRequester] Settings apstag config",n),this.apstag().init(n)}async apstagPrivacy(e){const t="1---";if(!e)return t;if(!x(e))return t;try{const e=C(),t=await e("isCcpaOptedOut");return`1Y${t?"Y":"N"}N`}catch(e){return i.log(e),"1YNN"}}async processAds(e,t){this.createAdUnits(e,t),await this.destroyDfpSlots(),await this.createDfpSlots();const r=this.selectRequestedUnits(e);this.setAdsenseBids(r,t),this.loadAdsenseIfBid(r),this.setNonGoogleBids(r,t),this.loadAmazonIfBid((()=>{t.disableBlockthrough||m(),this.auctioneerRequestFinished("amazon",r,t)})),this.requestApstag(r,t),this.requestPrebid(r,t)}createAdUnits(e,t){this.adUnits=e.units.map((e=>oe.createAdUnit(e,t))).filter((e=>null!==e)),this.adUnits.forEach((e=>{e.isBanner()&&(this.historicalBanners[e.code()]=e)}))}selectRequestedUnits(e){const t=e.codes;return t?this.adUnits.filter((e=>t.some((t=>t===e.code())))):this.adUnits}requestPrebid(e,t){this.noPrebidBids()||this.prebidFailedToLoad?this.auctioneerRequestFinished("prebid",e,t):this.pbjs.que.push((()=>{this.setPrebidBidderSettings(),this.prebidAddAdUnits(),this.prebidRequestBids(e,t)}))}refreshPrebid(e,t){this.noPrebidBids()||this.prebidFailedToLoad?this.auctioneerRefreshFinished("prebid",e,t):this.pbjs.que.push((()=>{this.pbjs.requestBids({timeout:this.requestTimeout,adUnits:this.prebidAdUnits,bidsBackHandler:async r=>{await q.getInstance().filterBids(this.pbjs,r),this.auctioneerRefreshFinished("prebid",e,t)}})}))}initRefresh(e,t){var r;this.setGoogleBids(e,t),this.finalizeBids(e),this.renderer.refresh(this,e,t,this.createDfpPredefinedValues(),this.prebidAdUnits,this.apstagSlots),null===(r=this.requestPromise)||void 0===r||r.resolve()}async refreshApstag(e,t){if(this.noAmazonBids()||this.apstagFailedToLoad)return void this.auctioneerRefreshFinished("amazon",e,t);let r=null;try{await this.initializeApstag(t),this.apstagRefreshTimeoutHit=!1,r=window.setTimeout((()=>{i.debug("[apstag] timeout"),this.apstagRefreshTimeoutHit=!0,this.auctioneerRefreshFinished("amazon",e,t)}),this.requestTimeout+100),await this.setAmazonUser(t);const s={slots:this.apstagSlots,timeout:this.requestTimeout};i.debug(`[apstag] Refresh ${JSON.stringify(s)}`),this.apstag().fetchBids(s,(s=>{r&&window.clearTimeout(r),this.apstagRefreshTimeoutHit||(i.debug("[apstag] bids back"),s.forEach((e=>{i.debug(`[apstag] ${JSON.stringify(e)}`)})),this.setAmazonBids(s),this.auctioneerRefreshFinished("amazon",e,t))}))}catch(s){i.error(s),r&&window.clearTimeout(r),this.auctioneerRefreshFinished("amazon",e,t)}}async requestApstag(e,t){if(this.noAmazonBids()||this.apstagFailedToLoad)return void this.auctioneerRequestFinished("amazon",e,t);let r=null;try{await this.initializeApstag(t);const s={slots:this.apstagSlots,timeout:this.requestTimeout};i.debug(`[apstag] ${JSON.stringify(s)}`),this.apstagRequestTimeoutHit=!1,r=window.setTimeout((()=>{i.debug("[apstag] timeout"),this.apstagRequestTimeoutHit=!0,this.auctioneerRequestFinished("amazon",e,t)}),this.requestTimeout+100),await this.setAmazonUser(t),this.apstag().fetchBids(s,(s=>{r&&window.clearTimeout(r),this.apstagRequestTimeoutHit||(i.debug("[apstag] bids back"),s.forEach((e=>{i.debug(`[apstag] ${JSON.stringify(e)}`)})),this.setAmazonBids(s),this.auctioneerRequestFinished("amazon",e,t))}))}catch(s){i.error(s),r&&window.clearTimeout(r),this.auctioneerRequestFinished("amazon",e,t)}}auctioneerRequestFinished(e,t,r){i.debug(`[AdRequester] ${e} finished`),this.requestManager.setAuctioneerFinished(e),this.requestManager.haveBiddersFinished()&&this.initAdserver(t,r)}auctioneerRefreshFinished(e,t,r){this.requestManager.setAuctioneerFinished(e),this.requestManager.haveBiddersFinished()&&this.initRefresh(t,r)}setAdsenseBids(e,t){this.setBidsForUnits(e,[this.bidders.adsense],t)}setNonGoogleBids(e,t){this.setBidsForUnits(e,[...this.bidders.prebid,this.bidders.amazon],t)}setGoogleBids(e,t){this.setBidsForUnits(e,[this.bidders.google],t)}finalizeBids(e){e.forEach((e=>e.finalizeBid(this.pbjs)))}setBidsForUnits(e,t,r){e.forEach((e=>{this.setBid(e,t,r)}))}setBid(e,t,r){try{e.setBids(this,t,r)}catch(t){i.error(`[AdRequester] ${e.code} error in setBids`,t)}}prebidAddAdUnits(){this.prebidAdUnits.forEach((e=>{this.pbjs.removeAdUnit(e.code)})),this.pbjs.addAdUnits(this.prebidAdUnits)}setPrebidBidderSettings(){const e=this.prebidBidders().reduce(((e,t)=>Object.assign({},e,t.getAdjustment())),{standard:{bidCpmAdjustment:e=>e,storageAllowed:!1,allowAlternateBidderCodes:!0}});this.pbjs.bidderSettings=e}prebidRequestBids(e,t){this.noPrebidBids()?this.auctioneerRequestFinished("prebid",e,t):this.pbjs.requestBids({adUnits:this.prebidAdUnits,bidsBackHandler:async r=>{await q.getInstance().filterBids(this.pbjs,r),this.auctioneerRequestFinished("prebid",e,t)},timeout:this.requestTimeout})}createDfpPredefinedValues(){return{version:e,timeout:`${this.requestTimeout}`,...this.cookieDeprecationForDfp()}}async initAdserver(e,t){var r;if(this.requestManager.adserverRequestSent)return;this.requestManager.adserverRequestSent=!0,this.pbjs.initAdserverSet=!0,this.setGoogleBids(e,t),this.finalizeBids(e),await this.setCookieDeprecationLabel();const i=this.createDfpPredefinedValues();await this.renderer.render(this,e,t,i,this.prebidAdUnits,this.apstagSlots),null===(r=this.requestPromise)||void 0===r||r.resolve()}setTimeout(e){const{timeout:t}=e;t&&(this.requestTimeout=t)}async setCookieDeprecationLabel(){if(null===this.cookieDeprecationLabel)if("cookieDeprecationLabel"in navigator){const e=await navigator.cookieDeprecationLabel.getValue();""===e.trim()?this.cookieDeprecationLabel="not_set":this.cookieDeprecationLabel=e}else this.cookieDeprecationLabel="not_defined"}cookieDeprecationForDfp(){if(!this.cookieDeprecationLabel)return{};return{cookie_depr_2024:["control_1.1","control_1.2","control_1.3","control_1.4","label_only_1","label_only_2","label_only_3","label_only_4","label_only_5","treatment_1.1","treatment_1.2","treatment_1.3","control_2","not_set","not_defined"].includes(this.cookieDeprecationLabel)?this.cookieDeprecationLabel:"other"}}createBidders(e){this.bidders=class{static createBidder(e,t,r){const i=r.dollarRate,s=u(e,r.bidders||[]),n=Object.assign({},t,s);switch(e){case"appnexus":return new pe(e,n,i);case"google":return new ge(e,n,i);case"ix":return new fe(e,n,i);case"pubmatic":return new me(e,n,i);case"rubicon":return new be(e,n,i);case"triplelift":return new ve(e,n,i);case"sharethrough":return new ye(e,n,i);case"venatus":return new we(e,n,i);case"adagio":return new Ae(e,n,i);case"rise":return new Se(e,n,i);case"stroeerCore":return new Be(e,n,i);case"shemedia":return new Pe(e,n,i);case"mediafuse":return new ke(e,n,i);case"amazon":return new le(e,n,i);case"adsense":return new ue(e,n,i);default:return console.warn(`[BidderFactory] Unexpected bidder code ${e}`),null}}static createBidders(e,t){const r=["ix","rubicon","sharethrough","pubmatic","appnexus","rise","triplelift","adagio","google","amazon","adsense","stroeerCore","venatus","shemedia","mediafuse"].map((r=>{const i=u(r,e.bidders||[]),s=Object.assign({code:r,cost:0,discrepancy:0,video:{placements:{}}},i);return this.createBidder(r,s,t)}));let i=null,s=null,n=null;const o=[];return r.forEach((e=>{if(null!==e)switch(e.code){case"google":i=e;break;case"amazon":s=e;break;case"adsense":n=e;break;default:return void o.push(e)}})),[{bidder:i,code:"google"},{bidder:s,code:"amazon"},{bidder:n,code:"adsense"}].forEach((e=>{this.checkIfFailedToCreate(e.code,e.bidder)})),{google:i,amazon:s,prebid:o,adsense:n}}static checkIfFailedToCreate(e,t){if(!t)throw new Error(`[BidderFactory] failed to create ${e}`)}}.createBidders(this.config,e)}setPrebidConfig(e){const{countryCode:t,pageUrl:r}=e,i=this.getConsentConfig(t||null),s=this.getUserSyncConfig(e);this.pbjs.que.push((()=>{var t;this.pbjs.aliasBidder("aniview","venatus"),this.pbjs.aliasBidder("rubicon","shemedia"),this.pbjs.setConfig({...e.pbjsConfig,minBidCacheTTL:60,eventHistoryTTL:60,gptPreAuction:{enabled:!0,useDefaultPreAuction:!0},enableTIDs:!0,pageUrl:r||(null===(t=e.pbjsConfig)||void 0===t?void 0:t.pageUrl),ortb2:this.ort2Config(e)||void 0,floors:{enforcement:{bidAdjustment:!0,enforceJS:!0}},userSync:s,rubicon:{singleRequest:!0},useBidCache:!e.noBidCaching,enableSendAllBids:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userIdTargeting:{GAM:!0},mediaTypePriceGranularity:{video:{buckets:se},banner:{buckets:N}},timeoutBuffer:400,disableAjaxTimeout:!0,...i}),this.refreshUserIdsIfNeeded(e.user)}))}ort2Config(e){const{pageUrl:t}=e;if(!t)return null;try{return{site:{page:t,domain:new URL(t).host}}}catch(e){return i.error(`[AdRequester] Invalid pageUrl ${t}`),null}}getConsentConfig(e){if(!e)return{};if(T(e))return{consentManagement:{gdpr:{cmpApi:"iab",timeout:1e3,defaultGdprScope:!0}}};if(x(e)){return{consentManagement:{...{usp:{timeout:1e3,cmpApi:"iab"}}}}}return{}}getUserSyncConfig(e){var t,r;const i={encryptedSignalSources:{sources:[{source:["criteo.com","adserver.org","id5-sync.com","sharedid.org"],encrypt:!1}]}},s=[{name:"criteo"},{name:"identityLink",params:{pid:"13431"},storage:{type:"cookie",name:"idl_env",expires:30}},{name:"unifiedId",params:{partner:"c67xkla"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}},{name:"id5Id",params:{partner:377},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"sharedId",storage:{name:"sharedid",type:"cookie"},params:{syncTime:86400}},{name:"lotamePanoramaId"}],{user:n}=e;return null!=n&&null!==(t=n.uid2)&&void 0!==t&&t.applicable&&s.push({name:"uid2",params:{email:n.email,...n.uid2.options}}),null!=n&&null!==(r=n.liveIntent)&&void 0!==r&&r.applicable&&s.push({name:"liveIntentId",params:{emailHash:n.email??"",...n.liveIntent.options,requestedAttributesOverrides:{pubmatic:!0,magnite:!0,index:!0,uid2:!0}}}),i.userIds=s,i}refreshUserIdsIfNeeded(e){if(void 0!==e){var t;if((null===(t=this.previousUserDetails)||void 0===t||!t.email)&&e.email){const t=[];e.uid2.applicable&&t.push("uid2"),e.liveIntent.applicable&&t.push("liveIntentId"),t.length>0&&this.pbjs.refreshUserIds({submoduleNames:t})}this.previousUserDetails=e}}prebidBidders(){return this.bidders.prebid}initGoogletag(){const e=window;e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[]}initPrebid(){const e=window;e.pbjs=e.pbjs||{},e.pbjs.que=e.pbjs.que||[],this.pbjs=e.pbjs}apstag(){return window.apstag}updateBidders(e){[...this.bidders.prebid,this.bidders.google,this.bidders.amazon].forEach((t=>{const r=u(t.code,e.bidders||[])||{},i=Object.assign({},t.getConfig(),r);t.setConfig(i)}))}selectAdUnitsForRefresh(e){const t=e.codes,r=this.adUnits.filter((e=>t.indexOf(e.code())>-1)),s=r.map((e=>e.code()));t.length!==s.length&&t.forEach((e=>{s.indexOf(e)<0&&i.error(`[AdRequester] Code ${e} not found`)}));return r.filter((e=>e.canRefresh()))}setAmazonVideoBids(e){const t=this.adUnits.filter((e=>e.isVideo()));if(t.length>0){const r=t[0];if(e.length>0){const t=e.map((e=>({...e,cpm:k(e)}))).filter((e=>e.cpm>0));if(0===t.length)return;const i=t.reduce(((e,t)=>e.cpm>=t.cpm?e:t),t[0]);r.setAmazonBid(i)}t.length>1&&i.warn("[apstag] got multiple video units, cant deal with those")}}setAmazonBannerBids(e){const t=this.adUnits.filter((e=>e.isBanner()));e.forEach((e=>{const{slotID:r}=e,s=t.find((e=>e.code()===r));if(!s)return void i.warn("[apstag] bid without matching unit");const n=k(e);n>0&&s.setAmazonBid({...e,cpm:n})}))}setAmazonBids(e){const t=e.filter((e=>"video"===e.mediaType)),r=e.filter((e=>"video"!==e.mediaType));this.setAmazonVideoBids(t),this.setAmazonBannerBids(r)}reset(){this.prebidAdUnits=[],this.apstagSlots=[],this.requestManager.reset(),this.requestPromise=null}destroyDfpSlots(){const e=this.getAdUnits().filter((e=>e.isBanner()));return 0===e.length?Promise.resolve():new Promise((t=>{googletag.cmd.push((()=>{const r=e.map((e=>e.findSlot())).filter((e=>!!e));googletag.destroySlots(r),e.forEach((e=>e.markSlotAsDestroyed()));const i=googletag.pubads().getTargetingKeys(),s=["criteoId","id5id","tdid"];i.filter((e=>!s.includes(e))).forEach((e=>{googletag.pubads().clearTargeting(e)})),t()}))}))}createDfpSlots(){const e=this.getAdUnits().filter((e=>e.isBanner()));return e.length>0?new Promise((t=>{googletag.cmd.push((()=>{googletag.pubads().setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!1,sandbox:!0}),e.forEach((e=>e.defineSlot())),t()}))})):Promise.resolve()}noAmazonBids(){return 0===this.apstagSlots.length}noPrebidBids(){return 0===this.prebidAdUnits.length}loadAdsenseIfBid(e){e.some((e=>e.hasAdsenseBid()))&&r().catch((()=>{i.error("[AdRequester] failed to load adsense")}))}async loadAmazonIfBid(e){if(!this.noAmazonBids()){i.debug("[AdRequester] loading amazon");try{await p.loadIfNeeded()}catch(t){i.debug("[AdRequester] Apstag failed to load"),this.apstagFailedToLoad=!0,e()}}}loadScripts(e,t){w.loadIfNeeded().catch((()=>{t||m(!0).catch((()=>{i.error("[AdRequester] Failed to load blockthrough")})),this.prebidFailedToLoad=!0,e("prebid")})),t||m().catch((()=>{i.error("[AdRequester] Failed to load blockthrough")}))}async setAmazonUser(e){const{countryCode:t}=e;if(!t||!x(t))return;const{user:r}=e;if(!r)return;if(i.debug("[AdRequester] Setting user info",r),!r.email||!r.amazon.applicable)return new Promise((e=>{this.apstag().dpa(e)}));i.debug("[AdRequester] Setting email in apstag");const s={hashedRecords:[{type:"email",record:await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(r.email)}]};return new Promise((e=>{this.apstag().upa(s,e)}))}installLocatorFrames(){return X()}};function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fe=class{constructor(){Oe(this,"queue",[]),Oe(this,"_adRequester",null)}queueRequest(e,t){return new Promise(((r,i)=>{const s={type:"request",options:t,request:e,deferred:{resolve:r,reject:i}};this.enqueue(s)}))}queueRefresh(e,t){return new Promise(((r,i)=>{const s={type:"refresh",options:t,request:e,deferred:{resolve:r,reject:i}};this.enqueue(s)}))}enqueue(e){this.queue.push(e),1===this.queue.length&&this.processQueue()}async processQueue(){if(this.queue.length>0){const e=this.queue[0];try{await this.processRequest(e),e.deferred.resolve()}catch(t){s.error(t),e.deferred.reject()}return this.queue.shift(),this.processQueue()}}processRequest(e){const{type:t}=e;if("request"===t){const t=e;return this.adRequester.requestAds(t.request,t.options)}{const t=e;return this.adRequester.refreshAds(t.request,t.options)}}get adRequester(){return this._adRequester||(this._adRequester=new qe(Ie.advertising)),this._adRequester}};let Ee,De=!1;i.debug("[CrazyGamesAds] Loaded Version 8.16.0"),window.CrazygamesAds={requestAds:async function(e,t){try{Ee||(Ee=new Fe),await Ee.queueRequest(e,t)}catch(e){i.error(e)}},refreshAds:async function(e,t){try{if(!Ee)throw new Error("[CrazyAds] Expected a request before a refresh");await Ee.queueRefresh(e,t)}catch(e){i.error(e)}},nextPage:function(){window.googletag&&window.googletag.cmd&&googletag.cmd.push((function(){googletag.destroySlots()})),Ee=new Fe},hasAdblock:c,initAds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.debug("initialising ads",e),De||(De=!0,c(),X(),w.loadIfNeeded())},installRequiredLocatorFrames:function(){return X()},addTCFConsentListener:function(e){re.getInstance().addTCFConsentListener(e)},removeTCFConsentListener:function(e){re.getInstance().removeTCConsentListener(e)}}})()})();